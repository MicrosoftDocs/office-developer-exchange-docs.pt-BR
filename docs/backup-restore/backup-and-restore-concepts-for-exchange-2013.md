---
title: Conceitos de backup e restauração para o Exchange 2013
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 9a1c4709-9313-4ccf-9f8a-673a51d51f23
description: Encontre informações sobre os bancos de dados do Exchange que irão ajudá-lo a criar seus aplicativos de backup e restauração para o Exchange 2013.
ms.openlocfilehash: fd35699839af105dd3fe285776b071c1d03d58dd
ms.sourcegitcommit: 88ec988f2bb67c1866d06b361615f3674a24e795
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/03/2020
ms.locfileid: "44437981"
---
# <a name="backup-and-restore-concepts-for-exchange-2013"></a><span data-ttu-id="9f29e-103">Conceitos de backup e restauração para o Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="9f29e-103">Backup and restore concepts for Exchange 2013</span></span>

<span data-ttu-id="9f29e-104">Encontre informações sobre os bancos de dados do Exchange que irão ajudá-lo a criar seus aplicativos de backup e restauração para o Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="9f29e-104">Find information about Exchange databases that will help you create your backup and restore applications for Exchange 2013.</span></span>
  
<span data-ttu-id="9f29e-105">Antes de criar aplicativos de backup e restauração para o Exchange Server 2013, você deve estar familiarizado com a estrutura de arquivos do banco de dados do Exchange.</span><span class="sxs-lookup"><span data-stu-id="9f29e-105">Before you create backup and restore applications for Exchange Server 2013, you should be familiar with the Exchange database file structure.</span></span> <span data-ttu-id="9f29e-106">Usando os arquivos de banco de dados do repositório do Exchange, você pode fazer o backup dos dados em sua loja e restaurá-los mais tarde, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="9f29e-106">By using the Exchange store database files, you can back up the data in your store and restore it at a later time as needed.</span></span> <span data-ttu-id="9f29e-107">Se você estiver limitado no espaço em disco, o administrador poderá implementar o registro em log circular, e isso afetará a capacidade de fazer backup do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="9f29e-107">If you are limited on disk space, your administrator might implement circular logging, and this will affect your ability to back up the database.</span></span> <span data-ttu-id="9f29e-108">Você também pode aproveitar o recurso de mobilidade de banco de dados no Exchange 2013 para fazer o backup e restaurar dados do Exchange.</span><span class="sxs-lookup"><span data-stu-id="9f29e-108">You can also take advantage of the database mobility feature in Exchange 2013 to back up and restore Exchange data.</span></span> <span data-ttu-id="9f29e-109">Mobilidade de banco de dados, em combinação com seu aplicativo de backup e restauração, é uma boa medida de redundância para recuperação de desastres.</span><span class="sxs-lookup"><span data-stu-id="9f29e-109">Database mobility, in combination with your backup and restore application, is a good measure of redundancy for disaster recovery.</span></span>

<span data-ttu-id="9f29e-110"><a name="bk_exchangedatabases"> </a></span><span class="sxs-lookup"><span data-stu-id="9f29e-110"><a name="bk_exchangedatabases"> </a></span></span>

## <a name="exchange-store-database-files"></a><span data-ttu-id="9f29e-111">Arquivos de banco de dados do repositório do Exchange</span><span class="sxs-lookup"><span data-stu-id="9f29e-111">Exchange store database files</span></span>

<span data-ttu-id="9f29e-112">O Exchange 2013 inclui suporte para até 100 bancos de dados.</span><span class="sxs-lookup"><span data-stu-id="9f29e-112">Exchange 2013 includes support for up to 100 databases.</span></span> <span data-ttu-id="9f29e-113">Cada banco de dados do Exchange 2013 contém os arquivos listados na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="9f29e-113">Each Exchange 2013 database contains the files listed in the following table.</span></span> 
  
<span data-ttu-id="9f29e-114">**Tabela 1. Arquivos de banco de dados do Exchange 2013**</span><span class="sxs-lookup"><span data-stu-id="9f29e-114">**Table 1. Exchange 2013 database files**</span></span>

|<span data-ttu-id="9f29e-115">Tipo de arquivo</span><span class="sxs-lookup"><span data-stu-id="9f29e-115">File type</span></span>|<span data-ttu-id="9f29e-116">Extensão</span><span class="sxs-lookup"><span data-stu-id="9f29e-116">Extension</span></span>|<span data-ttu-id="9f29e-117">Descrição</span><span class="sxs-lookup"><span data-stu-id="9f29e-117">Description</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="9f29e-118">Arquivo de banco de dados</span><span class="sxs-lookup"><span data-stu-id="9f29e-118">Database file</span></span>  <br/> |<span data-ttu-id="9f29e-119">\*. edb</span><span class="sxs-lookup"><span data-stu-id="9f29e-119">\*.edb</span></span>  <br/> |<span data-ttu-id="9f29e-120">Registra todas as alterações que foram confirmadas no banco de dados de memória.</span><span class="sxs-lookup"><span data-stu-id="9f29e-120">Records all the changes that have been committed to the in-memory database.</span></span>  <br/> |
|<span data-ttu-id="9f29e-121">Fluxo do log de transações</span><span class="sxs-lookup"><span data-stu-id="9f29e-121">Transaction log stream</span></span>  <br/> |<span data-ttu-id="9f29e-122">\*. log</span><span class="sxs-lookup"><span data-stu-id="9f29e-122">\*.log</span></span>  <br/> |<span data-ttu-id="9f29e-123">Operações de registros, como a criação ou a modificação de uma mensagem, que serão confirmadas no banco de dados.</span><span class="sxs-lookup"><span data-stu-id="9f29e-123">Records operations, such as the creation or modification of a message, that will be committed to the database.</span></span> <span data-ttu-id="9f29e-124">Limitado em tamanho de 1 MB cada.</span><span class="sxs-lookup"><span data-stu-id="9f29e-124">Limited in size to 1 MB each.</span></span>  <br/> |
|<span data-ttu-id="9f29e-125">Arquivo de ponto de verificação</span><span class="sxs-lookup"><span data-stu-id="9f29e-125">Checkpoint file</span></span>  <br/> |<span data-ttu-id="9f29e-126">\*. chk</span><span class="sxs-lookup"><span data-stu-id="9f29e-126">\*.chk</span></span>  <br/> |<span data-ttu-id="9f29e-127">Registros que transações registradas foram gravadas nos arquivos de banco de dados de disco.</span><span class="sxs-lookup"><span data-stu-id="9f29e-127">Records which logged transactions have been written to the on-disk database files.</span></span>  <br/> |
   
<span data-ttu-id="9f29e-128">O Exchange 2013 mantém um único conjunto de arquivos de log de transações para cada banco de dados.</span><span class="sxs-lookup"><span data-stu-id="9f29e-128">Exchange 2013 maintains a single set of transaction log files for each database.</span></span> <span data-ttu-id="9f29e-129">Os logs de transação são importantes para operações de backup e recuperação.</span><span class="sxs-lookup"><span data-stu-id="9f29e-129">The transaction logs are important for backup and recovery operations.</span></span> <span data-ttu-id="9f29e-130">Ao criar um aplicativo de backup e restauração que usa o serviço de cópias de sombra de volume (VSS), você deve lidar com esses logs corretamente.</span><span class="sxs-lookup"><span data-stu-id="9f29e-130">When you create a backup and restore application that uses the Volume Shadow Copy Service (VSS), you must ensure that you handle these logs correctly.</span></span> <span data-ttu-id="9f29e-131">Para obter mais informações, consulte [logs de transações e arquivos de ponto de verificação para backup e restauração no Exchange 2013](transaction-logs-and-checkpoint-files-for-backup-and-restore-in-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="9f29e-131">For more information, see [Transaction logs and checkpoint files for backup and restore in Exchange 2013](transaction-logs-and-checkpoint-files-for-backup-and-restore-in-exchange.md).</span></span> <span data-ttu-id="9f29e-132">Para fazer o backup de um banco de dados e seu fluxo de logs, você deve fazer backup de todo o volume que contém o banco de dados e os logs.</span><span class="sxs-lookup"><span data-stu-id="9f29e-132">To back up a database and its log stream, you must back up the entire volume that contains the database and logs.</span></span> <span data-ttu-id="9f29e-133">O truncamento de log ocorrerá somente após uma conclusão bem-sucedida de um backup completo de um volume ou de pastas que contenham um banco de dados do Exchange.</span><span class="sxs-lookup"><span data-stu-id="9f29e-133">Log truncation will occur only after a successful completion of a full backup of a volume or folders that contain an Exchange database.</span></span>
  
<span data-ttu-id="9f29e-134">Em cada servidor Exchange, você pode montar apenas um banco de dados de recuperação por vez.</span><span class="sxs-lookup"><span data-stu-id="9f29e-134">On each Exchange server, you can mount only one recovery database at a time.</span></span> <span data-ttu-id="9f29e-135">Você pode acessar o banco de dados de recuperação usando cmdlets do Shell de gerenciamento do Exchange, como **New-MailboxRestoreRequest**.</span><span class="sxs-lookup"><span data-stu-id="9f29e-135">You can access the recovery database by using Exchange Management Shell cmdlets such as **New-MailboxRestoreRequest**.</span></span> <span data-ttu-id="9f29e-136">Para obter mais informações sobre os bancos de dados de recuperação do Exchange, consulte [bancos de dados de recuperação](https://technet.microsoft.com/library/dd876954%28v=exchg.150%29.aspx) no TechNet.</span><span class="sxs-lookup"><span data-stu-id="9f29e-136">For more information about Exchange recovery databases, see [Recovery Databases](https://technet.microsoft.com/library/dd876954%28v=exchg.150%29.aspx) on TechNet.</span></span> <span data-ttu-id="9f29e-137">Para obter mais informações sobre os cmdlets do Shell de gerenciamento do Exchange, consulte [cmdlets do exchange 2013](https://technet.microsoft.com/library/bb124413.aspx) no TechNet.</span><span class="sxs-lookup"><span data-stu-id="9f29e-137">For more information about Exchange Management Shell cmdlets, see [Exchange 2013 Cmdlets](https://technet.microsoft.com/library/bb124413.aspx) on TechNet.</span></span> 
  
## <a name="circular-logging"></a><span data-ttu-id="9f29e-138">Log circular</span><span class="sxs-lookup"><span data-stu-id="9f29e-138">Circular logging</span></span>
<span data-ttu-id="9f29e-139"><a name="bk_circularlogging"> </a></span><span class="sxs-lookup"><span data-stu-id="9f29e-139"><a name="bk_circularlogging"> </a></span></span>

<span data-ttu-id="9f29e-140">Se a capacidade de armazenamento for um problema, o administrador poderá habilitar o log circular.</span><span class="sxs-lookup"><span data-stu-id="9f29e-140">If storage capacity is an issue, your administrator might enable circular logging.</span></span> <span data-ttu-id="9f29e-141">Quando o registro em log circular está habilitado, o Exchange grava logs de transações como de costume, mas quando um arquivo de ponto de verificação é avançado, a parte inativa do log de transações é truncada.</span><span class="sxs-lookup"><span data-stu-id="9f29e-141">When circular logging is enabled, Exchange writes transaction logs as usual, but when a checkpoint file is advanced, the inactive portion of the transaction log is truncated.</span></span> <span data-ttu-id="9f29e-142">O administrador não deve configurar os bancos de dados do Exchange 2013 para usar o registro em log circular se você também planeja usar o VSS para habilitar suas operações personalizadas de backup e restauração.</span><span class="sxs-lookup"><span data-stu-id="9f29e-142">Your administrator should not configure Exchange 2013 databases to use circular logging if you also plan to use VSS to enable your custom backup and restore operations.</span></span> <span data-ttu-id="9f29e-143">O log circular cria as seguintes restrições:</span><span class="sxs-lookup"><span data-stu-id="9f29e-143">Circular logging creates the following restrictions:</span></span> 
  
- <span data-ttu-id="9f29e-144">Se habilitada durante a operação de backup ou recuperação, não será possível restaurar bancos de dados individuais.</span><span class="sxs-lookup"><span data-stu-id="9f29e-144">If enabled during the backup operation or the recovery operation, you cannot restore individual databases.</span></span>
    
- <span data-ttu-id="9f29e-145">Só é possível realizar operações de recuperação point-in-time.</span><span class="sxs-lookup"><span data-stu-id="9f29e-145">Only point-in-time recovery operations are possible.</span></span> <span data-ttu-id="9f29e-146">Quando o registro em log circular está habilitado, você pode excluir logs de transações no mesmo diretório quando um banco de dados é restaurado, embora esses logs possam fazer parte de um banco de dados diferente do Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="9f29e-146">When circular logging is enabled, you can delete transaction logs in the same directory when a database is restored, although those logs might be part of a different Exchange 2013 database.</span></span> 
    
- <span data-ttu-id="9f29e-147">Não é possível realizar operações de backup incrementais ou diferenciais.</span><span class="sxs-lookup"><span data-stu-id="9f29e-147">You cannot perform incremental or differential backup operations.</span></span> <span data-ttu-id="9f29e-148">Para obter mais informações sobre esses tipos de backups, consulte [tipos de operações de backup para o Exchange 2013](types-of-backup-operations-for-exchange-2013.md).</span><span class="sxs-lookup"><span data-stu-id="9f29e-148">For more information about these types of backups, see [Types of backup operations for Exchange 2013](types-of-backup-operations-for-exchange-2013.md).</span></span>
    
<span data-ttu-id="9f29e-149">Se o registro em log circular estiver habilitada, o administrador deverá desabilitá-lo assim que possível para garantir que seus backups VSS não falhem.</span><span class="sxs-lookup"><span data-stu-id="9f29e-149">If circular logging is enables, your administrator should disable it as soon as possible to ensure that your VSS backups don't fail.</span></span> <span data-ttu-id="9f29e-150">Para obter mais informações, confira o registro em log circular de postagens de blog [e backups VSS](https://blogs.technet.com/b/exchange/archive/2010/08/18/3410672.aspx).</span><span class="sxs-lookup"><span data-stu-id="9f29e-150">For more information, check out the blog post [Exchange Circular Logging and VSS Backups](https://blogs.technet.com/b/exchange/archive/2010/08/18/3410672.aspx).</span></span> 
  
## <a name="exchange-database-mobility"></a><span data-ttu-id="9f29e-151">Mobilidade de banco de dados do Exchange</span><span class="sxs-lookup"><span data-stu-id="9f29e-151">Exchange database mobility</span></span>
<span data-ttu-id="9f29e-152"><a name="bk_exchangedatabasemobility"> </a></span><span class="sxs-lookup"><span data-stu-id="9f29e-152"><a name="bk_exchangedatabasemobility"> </a></span></span>

<span data-ttu-id="9f29e-153">O Exchange 2013 permite que a mobilidade de banco de dados aprimore a confiabilidade e a disponibilidade da caixa de correio</span><span class="sxs-lookup"><span data-stu-id="9f29e-153">Exchange 2013 allows for database mobility to improve mailbox reliability and availability.</span></span> <span data-ttu-id="9f29e-154">A mobilidade de banco de dados permite fazer cópias do banco de dados do repositório do Exchange, desconectar o banco de dados do servidor e armazená-lo em outro servidor.</span><span class="sxs-lookup"><span data-stu-id="9f29e-154">Database mobility enables you to make copies of your Exchange store database, disconnect the database from the server, and store it on another server.</span></span> <span data-ttu-id="9f29e-155">Em um grupo de disponibilidade de banco de dados (DAG) do Exchange 2013, várias cópias do banco de dados são armazenadas em computadores diferentes.</span><span class="sxs-lookup"><span data-stu-id="9f29e-155">In an Exchange 2013 Database Availability Group (DAG), multiple copies of the database are stored on different computers.</span></span> <span data-ttu-id="9f29e-156">Quando uma ou mais cópias do banco de dados são perdidas devido a uma falha de hardware ou de outro sistema, as informações das outras cópias podem ser usadas para propagar novamente o banco de dados por meio de operações de replicação normais.</span><span class="sxs-lookup"><span data-stu-id="9f29e-156">When one or more copies of the database are lost due to hardware or other system failure, information from the other copies can be used to reseed the database via normal replication operations.</span></span>
  
<span data-ttu-id="9f29e-157">Para operações de backup, se os bancos de dados do Exchange 2013 que devem ser incluídos no backup estiverem configurados em um DAG, o aplicativo de backup pode impedir melhor interferência entre o instantâneo e o desempenho do servidor ativo ao pegar o instantâneo em uma das cópias de banco de dados inativas.</span><span class="sxs-lookup"><span data-stu-id="9f29e-157">For backup operations, if the Exchange 2013 databases that are to be backed up are configured in a DAG, the backup application can better prevent interference between the snapshot and the active server's performance by taking the snapshot on one of the inactive database copies.</span></span> <span data-ttu-id="9f29e-158">Como as cópias de banco de dados são para a maior parte sincronizada, o aplicativo de backup pode obter instantâneos de diferentes cópias do banco de dados e reconstruí-lo mais tarde das partes.</span><span class="sxs-lookup"><span data-stu-id="9f29e-158">Because the database copies are for the most part synchronized, the backup application can take snapshots from different copies of the database, and later reconstruct it from the pieces.</span></span>
  
<span data-ttu-id="9f29e-159">O único método com suporte de restauração de bancos de dados do DAG dos dados de backup é restaurar todas as cópias do banco de dados usando os mesmos dados de backup.</span><span class="sxs-lookup"><span data-stu-id="9f29e-159">The only supported method of restoring DAG databases from backup data is to restore all copies of the database by using the same backup data.</span></span> <span data-ttu-id="9f29e-160">Como os arquivos de log do banco de dados podem ser um pouco diferentes entre as cópias, a restauração de cópias de banco de dados individuais usando dados diferentes pode fazer com que o banco de dados se torne não montável.</span><span class="sxs-lookup"><span data-stu-id="9f29e-160">Because the database log files might be slightly different between the copies, restoring individual database copies using different data can cause the database to become unmountable.</span></span>
  
## <a name="in-this-section"></a><span data-ttu-id="9f29e-161">Nesta seção</span><span class="sxs-lookup"><span data-stu-id="9f29e-161">In this section</span></span>
<span data-ttu-id="9f29e-162"><a name="bk_inthissection"> </a></span><span class="sxs-lookup"><span data-stu-id="9f29e-162"><a name="bk_inthissection"> </a></span></span>

- [<span data-ttu-id="9f29e-163">Logs de transação e arquivos de ponto de verificação para backup e restauração no Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="9f29e-163">Transaction logs and checkpoint files for backup and restore in Exchange 2013</span></span>](transaction-logs-and-checkpoint-files-for-backup-and-restore-in-exchange.md)
    
- [<span data-ttu-id="9f29e-164">Gravador do Exchange no Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="9f29e-164">Exchange writer in Exchange 2013</span></span>](exchange-writer-in-exchange-2013.md)
    
## <a name="see-also"></a><span data-ttu-id="9f29e-165">Confira também</span><span class="sxs-lookup"><span data-stu-id="9f29e-165">See also</span></span>

- [<span data-ttu-id="9f29e-166">Desenvolvimento do Exchange Online e do Exchange</span><span class="sxs-lookup"><span data-stu-id="9f29e-166">Exchange Online and Exchange development</span></span>](../exchange-server-development.md) 
- [<span data-ttu-id="9f29e-167">Tipos de operações de backup para o Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="9f29e-167">Types of backup operations for Exchange 2013</span></span>](types-of-backup-operations-for-exchange-2013.md)
- [<span data-ttu-id="9f29e-168">Restauração de bancos de dados do Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="9f29e-168">Restoring Exchange 2013 databases</span></span>](restoring-exchange-2013-databases.md)
    

