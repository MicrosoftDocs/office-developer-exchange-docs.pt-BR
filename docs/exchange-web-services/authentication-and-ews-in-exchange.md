---
title: Autenticação e EWS no Exchange
manager: sethgros
ms.date: 03/9/2015
ms.audience: Developer
ms.assetid: 9a83df96-aca0-42b3-b8f5-2b414f0363f1
description: Encontre informações para ajudar na escolha do padrão de autenticação correto para o seu aplicativo EWS que visa o Exchange.
localization_priority: Priority
ms.openlocfilehash: 0b35921f33b935f9a5a490e15d4e76d1a3e3c9dc
ms.sourcegitcommit: 843a2e030a94b12aec70c553ca4e06e39ac02d82
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/09/2020
ms.locfileid: "49603831"
---
# <a name="authentication-and-ews-in-exchange"></a><span data-ttu-id="b1dd9-103">Autenticação e EWS no Exchange</span><span class="sxs-lookup"><span data-stu-id="b1dd9-103">Authentication and EWS in Exchange</span></span>

<span data-ttu-id="b1dd9-104">Encontre informações para ajudar na escolha do padrão de autenticação correto para o seu aplicativo EWS que visa o Exchange.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-104">Find information to help you choose the right authentication standard for your EWS application that targets Exchange.</span></span>
  
<span data-ttu-id="b1dd9-105">A autenticação é uma parte fundamental do aplicativo EWS (Serviços Web do Exchange).</span><span class="sxs-lookup"><span data-stu-id="b1dd9-105">Authentication is a key part of your Exchange Web Services (EWS) application.</span></span> <span data-ttu-id="b1dd9-106">O Exchange Online, o Exchange Online como parte do Office 365, e as versões locais do Exchange, a partir do Exchange Server 2013, oferecem suporte a protocolos de autenticação Web padrão para ajudar a proteger a comunicação entre o aplicativo e o servidor Exchange.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-106">Exchange Online, Exchange Online as part of Office 365, and on-premises versions of Exchange starting with Exchange Server 2013 support standard web authentication protocols to help secure the communication between your application and the Exchange server.</span></span>
  
<span data-ttu-id="b1dd9-107">Se você estiver usando o Exchange Online, o método de autenticação escolhido deve usar HTTPS para criptografar as solicitações e respostas enviadas pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-107">If you're targeting Exchange Online, the authentication method that you choose must use HTTPS to encrypt the requests and responses that your application sends.</span></span> <span data-ttu-id="b1dd9-108">Embora seja possível usar HTTP com servidores do Exchange no local, recomendamos o uso de HTTPS para qualquer solicitação que o aplicativo envie a um ponto de extremidade do EWS para ajudar a proteger a comunicação o aplicativo e um servidor Exchange.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-108">Although you can use HTTP with Exchange on-premises servers, we recommend that you use HTTPS for any request that your application sends to an EWS endpoint to help secure communication between your application and an Exchange server.</span></span>
  
<span data-ttu-id="b1dd9-109">O Exchange oferece as seguintes opções de autenticação para você escolher:</span><span class="sxs-lookup"><span data-stu-id="b1dd9-109">Exchange provides the following authentication options for you to choose from:</span></span> 
  
- <span data-ttu-id="b1dd9-110">OAuth 2.0 (somente Exchange Online)</span><span class="sxs-lookup"><span data-stu-id="b1dd9-110">OAuth 2.0 (Exchange Online only)</span></span>
    
- <span data-ttu-id="b1dd9-111">NTLM (somente Exchange no local)</span><span class="sxs-lookup"><span data-stu-id="b1dd9-111">NTLM (Exchange on-premises only)</span></span>
    
- <span data-ttu-id="b1dd9-112">Básico (não recomendado)</span><span class="sxs-lookup"><span data-stu-id="b1dd9-112">Basic (no longer recommended)</span></span>
    
<span data-ttu-id="b1dd9-113">O método de autenticação escolhido depende dos requisitos de segurança da organização, se você está usando o Exchange Online ou o Exchange no local, e se você tem acesso a um provedor de terceiros que emite tokens OAuth.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-113">The authentication method that you choose depends on the security requirements of your organization, whether you are using Exchange Online or Exchange on-premises, and whether you have access to a third-party provider that can issue OAuth tokens.</span></span> <span data-ttu-id="b1dd9-114">Este artigo fornece informações que ajudarão você a escolher o padrão de autenticação ideal para o seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-114">This article provides information that will help you select the authentication standard that's right for your application.</span></span>
  
## <a name="oauth-authentication"></a><span data-ttu-id="b1dd9-115">Autenticação OAuth</span><span class="sxs-lookup"><span data-stu-id="b1dd9-115">OAuth authentication</span></span>

<span data-ttu-id="b1dd9-116">É recomendável que todos os novos aplicativos usem o padrão OAuth para se conectar aos serviços do Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-116">We recommend that all new applications use the OAuth standard to connect to Exchange Online services.</span></span> <span data-ttu-id="b1dd9-117">O trabalho adicional necessário para implementar o OAuth traz a vantagem de ter maior segurança em relação à autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-117">The advantage in security over basic authentication is worth the additional work required to implement OAuth in your application.</span></span> <span data-ttu-id="b1dd9-118">No entanto, há também algumas desvantagens que você deve estar ciente.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-118">For the record, however, there are also some disadvantages that you should be aware of.</span></span>
  
<span data-ttu-id="b1dd9-119">**Tabela 1. Vantagens e desvantagens de usar o OAuth**</span><span class="sxs-lookup"><span data-stu-id="b1dd9-119">**Table 1. Advantages and disadvantages of using OAuth**</span></span>

|<span data-ttu-id="b1dd9-120">**Vantagens**</span><span class="sxs-lookup"><span data-stu-id="b1dd9-120">**Advantages**</span></span>|<span data-ttu-id="b1dd9-121">**Desvantagens**</span><span class="sxs-lookup"><span data-stu-id="b1dd9-121">**Disadvantages**</span></span>|
|:-----|:-----|
| <span data-ttu-id="b1dd9-122">O OAuth é um protocolo de autenticação padrão do setor.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-122">OAuth is an industry-standard authentication protocol.</span></span><br/><br/><span data-ttu-id="b1dd9-123">A autenticação é gerenciada por um provedor de terceiros.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-123">Authentication is managed by a third-party provider.</span></span> <span data-ttu-id="b1dd9-124">O aplicativo não precisa coletar e armazenar as credenciais do Exchange.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-124">Your application does not have to collect and store the Exchange credentials.</span></span><br/><br/><span data-ttu-id="b1dd9-125">Menos preocupações para você, pois o aplicativo só recebe um token opaco do provedor de autenticação; portanto, uma violação de segurança no aplicativo só expõe o token, e não as credenciais do Exchange do usuário.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-125">Fewer worries for you, because your application only receives an opaque token from the authentication provider; therefore, a security breach in your application can only expose the token, not the user's Exchange credentials.</span></span>  <br/> | <span data-ttu-id="b1dd9-126">O OAuth conta com um provedor de autenticação de terceiros.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-126">OAuth relies on a third-party authentication provider.</span></span> <span data-ttu-id="b1dd9-127">Isso pode impor custos adicionais à organização ou aos clientes.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-127">This can impose additional costs on your organization or your customers.</span></span><br/><br/><span data-ttu-id="b1dd9-128">O padrão OAuth é mais difícil de implementar do que a autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-128">The OAuth standard is more difficult to implement than basic authentication.</span></span><br/><br/><span data-ttu-id="b1dd9-129">Para implementar o OAuth, é necessário integrar o aplicativo com o provedor de autenticação e o servidor do Exchange.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-129">To implement OAuth, you need to integrate your application with both the authentication provider and the Exchange server.</span></span>  <br/> |
   
<span data-ttu-id="b1dd9-130">Para ajudar a minimizar as desvantagens, use a [Biblioteca de Autenticação do Microsoft Azure AD](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-libraries) (ADAL) para autenticar os usuários ao AD DS (Active Directory Domain Services) na nuvem ou no local e, em seguida, obter tokens de acesso para proteger as chamadas a um servidor do Exchange.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-130">To help minimize the disadvantages, you can use the [Microsoft Azure AD Authentication Library](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-libraries) (ADAL) to authenticate users to Active Directory Domain Services (AD DS) in the cloud or on-premises and then obtain access tokens for securing calls to an Exchange server.</span></span> <span data-ttu-id="b1dd9-131">O Exchange Online requer fichas emitidas pelo serviço do Azure Active Directory que é aceito pelo ADAL; no entanto, é possível usar qualquer biblioteca de terceiros.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-131">Exchange Online requires tokens issued by the Azure Active Directory service, which is supported by the ADAL; however, you can use any third-party library.</span></span> 
  
<span data-ttu-id="b1dd9-132">Para saber mais sobre como usar a autenticação OAuth no aplicativo EWS, confira os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="b1dd9-132">To learn more about using OAuth authentication in your EWS application, see the following resources:</span></span>
  
- <span data-ttu-id="b1dd9-133">[Avaliação do Office 365](https://docs.microsoft.com/office/developer-program/office-365-developer-program), para configurar um servidor Exchange a ser usado para testar o aplicativo do cliente.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-133">[Office 365 trial](https://docs.microsoft.com/office/developer-program/office-365-developer-program), to set up an Exchange server to use to test your client application.</span></span>
    
- [<span data-ttu-id="b1dd9-134">Biblioteca de Autenticação do Azure AD para .NET</span><span class="sxs-lookup"><span data-stu-id="b1dd9-134">Azure AD Authentication Library for .NET</span></span>](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-libraries)
    
- <span data-ttu-id="b1dd9-135">[Configurar o Azure Active Directory](https://msdn.microsoft.com/library/055e1155-2d4d-4c85-b44e-d406872ba595%28Office.15%29.aspx) para permitir que o aplicativo use tokens OAuth para autenticação.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-135">[Configure Azure Active Directory](https://msdn.microsoft.com/library/055e1155-2d4d-4c85-b44e-d406872ba595%28Office.15%29.aspx), to enable your application to use OAuth tokens for authentication.</span></span>
    
- <span data-ttu-id="b1dd9-136">Verifique o código de exemplo em [Autenticar um aplicativo EWS usando o OAuth](how-to-authenticate-an-ews-application-by-using-oauth.md), como código de exemplo a ser estudado.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-136">Review the sample code in [Authenticate an EWS application by using OAuth](how-to-authenticate-an-ews-application-by-using-oauth.md) for example code that you can study.</span></span> 
    
## <a name="ntlm-authentication"></a><span data-ttu-id="b1dd9-137">Autenticação NTLM</span><span class="sxs-lookup"><span data-stu-id="b1dd9-137">NTLM authentication</span></span>

<span data-ttu-id="b1dd9-138">A autenticação NTLM está disponível apenas para servidores do Exchange no local.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-138">NTLM authentication is only available for Exchange on-premises servers.</span></span> <span data-ttu-id="b1dd9-139">Para aplicativos executados dentro do firewall corporativo, a integração entre a autenticação NTLM e o .NET Framework fornece um meio integrado para autenticar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-139">For applications that run inside the corporate firewall, integration between NTLM authentication and the .NET Framework provides a built-in means to authenticate your application.</span></span> 
  
<span data-ttu-id="b1dd9-140">**Tabela 2. Vantagens e desvantagens de usar a autenticação NTLM**</span><span class="sxs-lookup"><span data-stu-id="b1dd9-140">**Table 2. Advantages and disadvantages of using NTLM authentication**</span></span>

|<span data-ttu-id="b1dd9-141">**Vantagens**</span><span class="sxs-lookup"><span data-stu-id="b1dd9-141">**Advantages**</span></span>|<span data-ttu-id="b1dd9-142">**Desvantagens**</span><span class="sxs-lookup"><span data-stu-id="b1dd9-142">**Disadvantages**</span></span>|
|:-----|:-----|
| <span data-ttu-id="b1dd9-143">Funciona como pronto para uso com o servidor Exchange.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-143">Works "out of the box" with your Exchange server.</span></span> <span data-ttu-id="b1dd9-144">Configure o acesso aos serviços do Exchange usando um [cmdlet do Shell de Gerenciamento do Exchange](how-to-control-access-to-ews-in-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="b1dd9-144">You can configure access to Exchange services by using an [Exchange Management Shell cmdlet](how-to-control-access-to-ews-in-exchange.md).</span></span><br/><br/><span data-ttu-id="b1dd9-145">Usa o objeto [CredentialCache](https://msdn2.microsoft.com/library/615e0wsd) do .NET Framework para obter automaticamente as credenciais do usuário.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-145">Uses the .NET Framework [CredentialCache](https://msdn2.microsoft.com/library/615e0wsd) object to automatically get the user's credentials.</span></span><br/><br/><span data-ttu-id="b1dd9-146">[Estão disponíveis exemplos de código](https://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c) que usam as credenciais do usuário conectado para autenticação em um servidor do Exchange no local.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-146">[Code samples are available](https://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c) that use the logged on user's credentials for authentication to an on-premises Exchange server.</span></span>  <br/> | <span data-ttu-id="b1dd9-147">Os usuários devem estar conectados a um domínio para usar a autenticação NTLM.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-147">Users must be logged on to a domain to use NTLM authentication.</span></span><br/><br/><span data-ttu-id="b1dd9-148">Pode ser difícil acessar as contas de email que não estão associadas à conta de domínio do usuário.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-148">It can be difficult to access email accounts that are not associated with the user's domain account.</span></span><br/><br/><span data-ttu-id="b1dd9-149">Os aplicativos de serviço devem ter uma conta de domínio para aproveitar a autenticação NTLM.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-149">Service applications must have a domain account to take advantage of NTLM authentication.</span></span>  <br/> |

   
## <a name="basic-authentication"></a><span data-ttu-id="b1dd9-150">Autenticação básica</span><span class="sxs-lookup"><span data-stu-id="b1dd9-150">Basic authentication</span></span>

<span data-ttu-id="b1dd9-151">A autenticação básica oferece um nível básico de segurança para o aplicativo cliente.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-151">Basic authentication provides a, well, basic level of security for your client application.</span></span> <span data-ttu-id="b1dd9-152">É recomendável que todos os novos aplicativos usem NTLM ou o protocolo OAuth para autenticação; no entanto, a autenticação básica pode ser a escolha ideal para o aplicativo em algumas circunstâncias.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-152">We do recommend that all new applications use either NTLM or the OAuth protocol for authentication; however, basic authentication can be the correct choice for your application in some circumstances.</span></span>
  
<span data-ttu-id="b1dd9-153">**Tabela 3. Vantagens e desvantagens de usar a autenticação básica**</span><span class="sxs-lookup"><span data-stu-id="b1dd9-153">**Table 3. Advantages and disadvantages of using basic authentication**</span></span>

|<span data-ttu-id="b1dd9-154">**Vantagens**</span><span class="sxs-lookup"><span data-stu-id="b1dd9-154">**Advantages**</span></span>|<span data-ttu-id="b1dd9-155">**Desvantagens**</span><span class="sxs-lookup"><span data-stu-id="b1dd9-155">**Disadvantages**</span></span>|
|:-----|:-----|
| <span data-ttu-id="b1dd9-156">Funciona como pronto para uso com o servidor Exchange.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-156">Works "out of the box" with your Exchange server.</span></span> <span data-ttu-id="b1dd9-157">Configure o acesso aos serviços do Exchange usando um [cmdlet do Shell de Gerenciamento do Exchange](how-to-control-access-to-ews-in-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="b1dd9-157">You can configure access to Exchange services by using an [Exchange Management Shell cmdlet](how-to-control-access-to-ews-in-exchange.md).</span></span><br/><br/><span data-ttu-id="b1dd9-158">Os aplicativos do Windows podem usar as credenciais padrão do usuário conectado.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-158">Windows applications can use the logged on user's default credentials.</span></span><br/><br/><span data-ttu-id="b1dd9-159">Vários [exemplos de código disponíveis](https://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c) que mostram como chamar o EWS usando autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-159">Many [code samples are available](https://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c) that show you how to call EWS using basic authentication.</span></span>  <br/> | <span data-ttu-id="b1dd9-160">Requer que o aplicativo colete ou armazene as credenciais do usuário.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-160">Requires your application to collect and store the user's credentials.</span></span><br/><br/><span data-ttu-id="b1dd9-161">Será necessário desativar a autenticação NTLM se quiser forçar todos os usuários a usar a autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-161">You have to turn off NTLM authentication if you want to force all users to use basic authentication.</span></span><br/><br/><span data-ttu-id="b1dd9-162">Se ocorrer uma violação de segurança no aplicativo, ela poderá expor o endereço de email e a senha do usuário ao invasor.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-162">If a security breach occurs in your application, it can expose the user's email address and password to the attacker.</span></span>  <br/> |
   
<span data-ttu-id="b1dd9-163">É necessário decidir se a autenticação básica atende aos requisitos de segurança da sua organização e dos seus clientes.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-163">You need to decide if basic authentication meets the security requirements of your organization and customers.</span></span> <span data-ttu-id="b1dd9-164">A autenticação básica pode ser a escolha certa se você quiser evitar tarefas de configuração demoradas, por exemplo, para aplicativos simples de teste ou de demonstração.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-164">Basic authentication can be the right choice if you want to avoid extensive setup tasks, for example for simple test or demonstration applications.</span></span>

> [!NOTE]
> <span data-ttu-id="b1dd9-165">Não há mais suporte para a autenticação básica no EWS para conectar-se ao Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-165">Basic authentication is no longer supported for EWS to connect to Exchange Online.</span></span> <span data-ttu-id="b1dd9-166">Use a autenticação OAuth em todos os aplicativos novos ou existentes do EWS para se conectar ao Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-166">Use OAuth authentication in all your new or existing EWS applications to connect to Exchange Online.</span></span> <span data-ttu-id="b1dd9-167">A autenticação OAuth para o EWS só está disponível no Exchange Online como parte do Microsoft 365.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-167">OAuth authentication for EWS is only available in Exchange Online as part of Microsoft 365.</span></span> <span data-ttu-id="b1dd9-168">Os aplicativos do EWS que usam o OAuth devem ser registrados com o Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b1dd9-168">EWS applications that use OAuth must be registered with Azure Active Directory first.</span></span>
  
## <a name="see-also"></a><span data-ttu-id="b1dd9-169">Confira também</span><span class="sxs-lookup"><span data-stu-id="b1dd9-169">See also</span></span>
- [<span data-ttu-id="b1dd9-170">Autenticar um aplicativo EWS usando o OAuth</span><span class="sxs-lookup"><span data-stu-id="b1dd9-170">Authenticate an EWS application by using OAuth</span></span>](how-to-authenticate-an-ews-application-by-using-oauth.md)
- [<span data-ttu-id="b1dd9-171">Introdução ao uso dos serviços Web no Exchange</span><span class="sxs-lookup"><span data-stu-id="b1dd9-171">Start using web services in Exchange</span></span>](start-using-web-services-in-exchange.md)   
- [<span data-ttu-id="b1dd9-172">Adicionar o logon ao aplicativo Web usando o Microsoft Azure AD</span><span class="sxs-lookup"><span data-stu-id="b1dd9-172">Adding Sign-On to Your Web Application Using Microsoft Azure AD</span></span>](https://msdn.microsoft.com/library/055e1155-2d4d-4c85-b44e-d406872ba595%28Office.15%29.aspx)    
- [<span data-ttu-id="b1dd9-173">Controlar o acesso ao EWS no Exchange</span><span class="sxs-lookup"><span data-stu-id="b1dd9-173">Control access to EWS in Exchange</span></span>](how-to-control-access-to-ews-in-exchange.md)    
- [<span data-ttu-id="b1dd9-174">Controlar o acesso do aplicativo cliente ao EWS no Exchange</span><span class="sxs-lookup"><span data-stu-id="b1dd9-174">Controlling client application access to EWS in Exchange</span></span>](controlling-client-application-access-to-ews-in-exchange.md)   
- [<span data-ttu-id="b1dd9-175">Tipos de token e de declaração com suporte</span><span class="sxs-lookup"><span data-stu-id="b1dd9-175">Supported token and claim types</span></span>](https://msdn.microsoft.com/library/9d35e4bc-7b72-49d1-b723-5464eee6be2c%28Office.15%29.aspx)
 
