---
title: Autenticação e EWS no Exchange
manager: sethgros
ms.date: 03/9/2015
ms.audience: Developer
ms.assetid: 9a83df96-aca0-42b3-b8f5-2b414f0363f1
description: Encontre informações para ajudá-lo a escolher o padrão de autenticação certo para seu aplicativo do EWS que tem como alvo o Exchange.
localization_priority: Priority
ms.openlocfilehash: 69018b6f88fc80e1e18edd96ed0e16d52064572d
ms.sourcegitcommit: 88ec988f2bb67c1866d06b361615f3674a24e795
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/03/2020
ms.locfileid: "44528479"
---
# <a name="authentication-and-ews-in-exchange"></a><span data-ttu-id="3cd6d-103">Autenticação e EWS no Exchange</span><span class="sxs-lookup"><span data-stu-id="3cd6d-103">Authentication and EWS in Exchange</span></span>

<span data-ttu-id="3cd6d-104">Encontre informações para ajudá-lo a escolher o padrão de autenticação certo para seu aplicativo do EWS que tem como alvo o Exchange.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-104">Find information to help you choose the right authentication standard for your EWS application that targets Exchange.</span></span>
  
<span data-ttu-id="3cd6d-105">A autenticação é uma parte fundamental do seu aplicativo de serviços Web do Exchange (EWS).</span><span class="sxs-lookup"><span data-stu-id="3cd6d-105">Authentication is a key part of your Exchange Web Services (EWS) application.</span></span> <span data-ttu-id="3cd6d-106">O Exchange Online, o Exchange Online como parte do Office 365 e versões locais do Exchange a partir do Exchange Server 2013 dão suporte a protocolos de autenticação da Web padrão para ajudar a proteger a comunicação entre seu aplicativo e o servidor do Exchange.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-106">Exchange Online, Exchange Online as part of Office 365, and on-premises versions of Exchange starting with Exchange Server 2013 support standard web authentication protocols to help secure the communication between your application and the Exchange server.</span></span>
  
<span data-ttu-id="3cd6d-107">Se você estiver direcionando para o Exchange Online, o método de autenticação que você escolher deverá usar HTTPS para criptografar as solicitações e respostas enviadas por seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-107">If you're targeting Exchange Online, the authentication method that you choose must use HTTPS to encrypt the requests and responses that your application sends.</span></span> <span data-ttu-id="3cd6d-108">Embora você possa usar HTTP com servidores locais do Exchange, recomendamos que você use HTTPS para qualquer solicitação que seu aplicativo envie para um ponto de extremidade do EWS para ajudar a proteger a comunicação entre seu aplicativo e um servidor Exchange.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-108">Although you can use HTTP with Exchange on-premises servers, we recommend that you use HTTPS for any request that your application sends to an EWS endpoint to help secure communication between your application and an Exchange server.</span></span>
  
<span data-ttu-id="3cd6d-109">O Exchange fornece as seguintes opções de autenticação para que você escolha:</span><span class="sxs-lookup"><span data-stu-id="3cd6d-109">Exchange provides the following authentication options for you to choose from:</span></span> 
  
- <span data-ttu-id="3cd6d-110">OAuth 2,0 (somente Exchange Online)</span><span class="sxs-lookup"><span data-stu-id="3cd6d-110">OAuth 2.0 (Exchange Online only)</span></span>
    
- <span data-ttu-id="3cd6d-111">NTLM (somente Exchange local)</span><span class="sxs-lookup"><span data-stu-id="3cd6d-111">NTLM (Exchange on-premises only)</span></span>
    
- <span data-ttu-id="3cd6d-112">Básico (não é mais recomendado)</span><span class="sxs-lookup"><span data-stu-id="3cd6d-112">Basic (no longer recommended)</span></span>
    
<span data-ttu-id="3cd6d-113">O método de autenticação escolhido depende dos requisitos de segurança da sua organização, se você estiver usando o Exchange Online ou o Exchange local, e se você tem acesso a um provedor de terceiros que possa emitir tokens OAuth.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-113">The authentication method that you choose depends on the security requirements of your organization, whether you are using Exchange Online or Exchange on-premises, and whether you have access to a third-party provider that can issue OAuth tokens.</span></span> <span data-ttu-id="3cd6d-114">Este artigo fornece informações que o ajudarão a selecionar o padrão de autenticação adequado para o seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-114">This article provides information that will help you select the authentication standard that's right for your application.</span></span>
  
## <a name="oauth-authentication"></a><span data-ttu-id="3cd6d-115">Autenticação OAuth</span><span class="sxs-lookup"><span data-stu-id="3cd6d-115">OAuth authentication</span></span>

<span data-ttu-id="3cd6d-116">Recomendamos que todos os novos aplicativos usem o padrão OAuth para se conectarem aos serviços do Exchange Online.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-116">We recommend that all new applications use the OAuth standard to connect to Exchange Online services.</span></span> <span data-ttu-id="3cd6d-117">A vantagem de segurança sobre a autenticação básica vale o trabalho adicional necessário para implementar o OAuth em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-117">The advantage in security over basic authentication is worth the additional work required to implement OAuth in your application.</span></span> <span data-ttu-id="3cd6d-118">Para o registro, no entanto, há também algumas desvantagens que você deve estar ciente.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-118">For the record, however, there are also some disadvantages that you should be aware of.</span></span>
  
<span data-ttu-id="3cd6d-119">**Tabela 1. Vantagens e desvantagens de usar o OAuth**</span><span class="sxs-lookup"><span data-stu-id="3cd6d-119">**Table 1. Advantages and disadvantages of using OAuth**</span></span>

|<span data-ttu-id="3cd6d-120">**Vantagens**</span><span class="sxs-lookup"><span data-stu-id="3cd6d-120">**Advantages**</span></span>|<span data-ttu-id="3cd6d-121">**Desvantagens**</span><span class="sxs-lookup"><span data-stu-id="3cd6d-121">**Disadvantages**</span></span>|
|:-----|:-----|
| <span data-ttu-id="3cd6d-122">O OAuth é um protocolo de autenticação padrão da indústria.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-122">OAuth is an industry-standard authentication protocol.</span></span><br/><br/><span data-ttu-id="3cd6d-123">A autenticação é gerenciada por um provedor de terceiros.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-123">Authentication is managed by a third-party provider.</span></span> <span data-ttu-id="3cd6d-124">O aplicativo não precisa coletar e armazenar as credenciais do Exchange.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-124">Your application does not have to collect and store the Exchange credentials.</span></span><br/><br/><span data-ttu-id="3cd6d-125">Menos preocupações para você, porque seu aplicativo só recebe um token opaco do provedor de autenticação; Portanto, uma violação de segurança em seu aplicativo só pode expor o token, não as credenciais do Exchange do usuário.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-125">Fewer worries for you, because your application only receives an opaque token from the authentication provider; therefore, a security breach in your application can only expose the token, not the user's Exchange credentials.</span></span>  <br/> | <span data-ttu-id="3cd6d-126">O OAuth se baseia em um provedor de autenticação de terceiros.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-126">OAuth relies on a third-party authentication provider.</span></span> <span data-ttu-id="3cd6d-127">Isso pode impor custos adicionais à sua organização ou seus clientes.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-127">This can impose additional costs on your organization or your customers.</span></span><br/><br/><span data-ttu-id="3cd6d-128">O padrão OAuth é mais difícil de implementar do que a autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-128">The OAuth standard is more difficult to implement than basic authentication.</span></span><br/><br/><span data-ttu-id="3cd6d-129">Para implementar o OAuth, você precisa integrar seu aplicativo com o provedor de autenticação e o servidor do Exchange.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-129">To implement OAuth, you need to integrate your application with both the authentication provider and the Exchange server.</span></span>  <br/> |
   
<span data-ttu-id="3cd6d-130">Para ajudar a minimizar as desvantagens, você pode usar a [biblioteca de autenticação do Microsoft Azure ad](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-libraries) (Adal) para autenticar usuários nos serviços de domínio do Active Directory (AD DS) na nuvem ou no local e, em seguida, obter tokens de acesso para proteger as chamadas a um servidor Exchange.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-130">To help minimize the disadvantages, you can use the [Microsoft Azure AD Authentication Library](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-libraries) (ADAL) to authenticate users to Active Directory Domain Services (AD DS) in the cloud or on-premises and then obtain access tokens for securing calls to an Exchange server.</span></span> <span data-ttu-id="3cd6d-131">O Exchange Online requer tokens emitidos pelo serviço do Azure Active Directory, que é suportado pela ADAL; no entanto, você pode usar qualquer biblioteca de terceiros.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-131">Exchange Online requires tokens issued by the Azure Active Directory service, which is supported by the ADAL; however, you can use any third-party library.</span></span> 
  
<span data-ttu-id="3cd6d-132">Para saber mais sobre como usar a autenticação OAuth no seu aplicativo EWS, confira os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="3cd6d-132">To learn more about using OAuth authentication in your EWS application, see the following resources:</span></span>
  
- <span data-ttu-id="3cd6d-133">[Versão de avaliação do Office 365](https://docs.microsoft.com/office/developer-program/office-365-developer-program), para configurar um servidor Exchange a ser usado para testar o aplicativo cliente.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-133">[Office 365 trial](https://docs.microsoft.com/office/developer-program/office-365-developer-program), to set up an Exchange server to use to test your client application.</span></span>
    
- [<span data-ttu-id="3cd6d-134">Biblioteca de Autenticação do Azure AD para .NET</span><span class="sxs-lookup"><span data-stu-id="3cd6d-134">Azure AD Authentication Library for .NET</span></span>](https://docs.microsoft.com/azure/active-directory/develop/active-directory-authentication-libraries)
    
- <span data-ttu-id="3cd6d-135">[Configure o Azure Active Directory](https://msdn.microsoft.com/library/055e1155-2d4d-4c85-b44e-d406872ba595%28Office.15%29.aspx)para permitir que seu aplicativo use tokens OAuth para autenticação.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-135">[Configure Azure Active Directory](https://msdn.microsoft.com/library/055e1155-2d4d-4c85-b44e-d406872ba595%28Office.15%29.aspx), to enable your application to use OAuth tokens for authentication.</span></span>
    
- <span data-ttu-id="3cd6d-136">Revise o código de exemplo em [autenticar um aplicativo EWS usando OAuth](how-to-authenticate-an-ews-application-by-using-oauth.md) como código de exemplo que você pode estudar.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-136">Review the sample code in [Authenticate an EWS application by using OAuth](how-to-authenticate-an-ews-application-by-using-oauth.md) for example code that you can study.</span></span> 
    
## <a name="ntlm-authentication"></a><span data-ttu-id="3cd6d-137">Autenticação NTLM</span><span class="sxs-lookup"><span data-stu-id="3cd6d-137">NTLM authentication</span></span>

<span data-ttu-id="3cd6d-138">A autenticação NTLM só está disponível para servidores locais do Exchange.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-138">NTLM authentication is only available for Exchange on-premises servers.</span></span> <span data-ttu-id="3cd6d-139">Para aplicativos executados dentro do firewall corporativo, a integração entre a autenticação NTLM e o .NET Framework fornece um meio interno para autenticar seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-139">For applications that run inside the corporate firewall, integration between NTLM authentication and the .NET Framework provides a built-in means to authenticate your application.</span></span> 
  
<span data-ttu-id="3cd6d-140">**Tabela 2. Vantagens e desvantagens de usar a autenticação NTLM**</span><span class="sxs-lookup"><span data-stu-id="3cd6d-140">**Table 2. Advantages and disadvantages of using NTLM authentication**</span></span>

|<span data-ttu-id="3cd6d-141">**Vantagens**</span><span class="sxs-lookup"><span data-stu-id="3cd6d-141">**Advantages**</span></span>|<span data-ttu-id="3cd6d-142">**Desvantagens**</span><span class="sxs-lookup"><span data-stu-id="3cd6d-142">**Disadvantages**</span></span>|
|:-----|:-----|
| <span data-ttu-id="3cd6d-143">Funciona "pronto" com o Exchange Server.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-143">Works "out of the box" with your Exchange server.</span></span> <span data-ttu-id="3cd6d-144">Você pode configurar o acesso aos serviços do Exchange usando um [cmdlet do Shell de gerenciamento do Exchange](how-to-control-access-to-ews-in-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="3cd6d-144">You can configure access to Exchange services by using an [Exchange Management Shell cmdlet](how-to-control-access-to-ews-in-exchange.md).</span></span><br/><br/><span data-ttu-id="3cd6d-145">Usa o objeto [CredentialCache](https://msdn2.microsoft.com/library/615e0wsd) do .NET Framework para obter automaticamente as credenciais do usuário.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-145">Uses the .NET Framework [CredentialCache](https://msdn2.microsoft.com/library/615e0wsd) object to automatically get the user's credentials.</span></span><br/><br/><span data-ttu-id="3cd6d-146">[Exemplos de código estão disponíveis](https://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c) para usar as credenciais do usuário conectado para autenticação em um servidor Exchange local.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-146">[Code samples are available](https://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c) that use the logged on user's credentials for authentication to an on-premises Exchange server.</span></span>  <br/> | <span data-ttu-id="3cd6d-147">Os usuários devem estar conectados a um domínio para usar a autenticação NTLM.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-147">Users must be logged on to a domain to use NTLM authentication.</span></span><br/><br/><span data-ttu-id="3cd6d-148">Pode ser difícil acessar contas de email que não estão associadas à conta de domínio do usuário.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-148">It can be difficult to access email accounts that are not associated with the user's domain account.</span></span><br/><br/><span data-ttu-id="3cd6d-149">Os aplicativos de serviço devem ter uma conta de domínio para aproveitar a autenticação NTLM.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-149">Service applications must have a domain account to take advantage of NTLM authentication.</span></span>  <br/> |

   
## <a name="basic-authentication"></a><span data-ttu-id="3cd6d-150">Autenticação básica</span><span class="sxs-lookup"><span data-stu-id="3cd6d-150">Basic authentication</span></span>

<span data-ttu-id="3cd6d-151">A autenticação básica fornece um nível básico de segurança para o aplicativo cliente.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-151">Basic authentication provides a, well, basic level of security for your client application.</span></span> <span data-ttu-id="3cd6d-152">Recomendamos que todos os novos aplicativos usem o NTLM ou o protocolo OAuth para autenticação; no entanto, a autenticação básica pode ser a escolha correta para seu aplicativo em algumas circunstâncias.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-152">We do recommend that all new applications use either NTLM or the OAuth protocol for authentication; however, basic authentication can be the correct choice for your application in some circumstances.</span></span>
  
<span data-ttu-id="3cd6d-153">**Tabela 3. Vantagens e desvantagens de usar a autenticação básica**</span><span class="sxs-lookup"><span data-stu-id="3cd6d-153">**Table 3. Advantages and disadvantages of using basic authentication**</span></span>

|<span data-ttu-id="3cd6d-154">**Vantagens**</span><span class="sxs-lookup"><span data-stu-id="3cd6d-154">**Advantages**</span></span>|<span data-ttu-id="3cd6d-155">**Desvantagens**</span><span class="sxs-lookup"><span data-stu-id="3cd6d-155">**Disadvantages**</span></span>|
|:-----|:-----|
| <span data-ttu-id="3cd6d-156">Funciona "pronto" com o Exchange Server.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-156">Works "out of the box" with your Exchange server.</span></span> <span data-ttu-id="3cd6d-157">Você pode configurar o acesso aos serviços do Exchange usando um [cmdlet do Shell de gerenciamento do Exchange](how-to-control-access-to-ews-in-exchange.md).</span><span class="sxs-lookup"><span data-stu-id="3cd6d-157">You can configure access to Exchange services by using an [Exchange Management Shell cmdlet](how-to-control-access-to-ews-in-exchange.md).</span></span><br/><br/><span data-ttu-id="3cd6d-158">Os aplicativos do Windows podem usar as credenciais padrão do usuário conectado.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-158">Windows applications can use the logged on user's default credentials.</span></span><br/><br/><span data-ttu-id="3cd6d-159">[Há vários exemplos de código disponíveis](https://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c) que mostram como chamar o EWS usando a autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-159">Many [code samples are available](https://code.msdn.microsoft.com/office/Exchange-2013-101-Code-3c38582c) that show you how to call EWS using basic authentication.</span></span>  <br/> | <span data-ttu-id="3cd6d-160">Requer que seu aplicativo colete e armazene as credenciais do usuário.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-160">Requires your application to collect and store the user's credentials.</span></span><br/><br/><span data-ttu-id="3cd6d-161">Você precisa desativar a autenticação NTLM se quiser forçar todos os usuários a usar a autenticação básica.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-161">You have to turn off NTLM authentication if you want to force all users to use basic authentication.</span></span><br/><br/><span data-ttu-id="3cd6d-162">Se ocorrer uma violação de segurança em seu aplicativo, ele poderá expor o endereço de email e a senha do usuário ao invasor.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-162">If a security breach occurs in your application, it can expose the user's email address and password to the attacker.</span></span>  <br/> |
   
<span data-ttu-id="3cd6d-163">Você precisa decidir se a autenticação básica atende aos requisitos de segurança da sua organização e dos clientes.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-163">You need to decide if basic authentication meets the security requirements of your organization and customers.</span></span> <span data-ttu-id="3cd6d-164">A autenticação básica pode ser a escolha certa se você quiser evitar tarefas abrangentes de configuração, por exemplo, para aplicativos simples de teste ou demonstração.</span><span class="sxs-lookup"><span data-stu-id="3cd6d-164">Basic authentication can be the right choice if you want to avoid extensive setup tasks, for example for simple test or demonstration applications.</span></span>
  
## <a name="see-also"></a><span data-ttu-id="3cd6d-165">Confira também</span><span class="sxs-lookup"><span data-stu-id="3cd6d-165">See also</span></span>

- [<span data-ttu-id="3cd6d-166">Introdução ao uso dos serviços Web no Exchange</span><span class="sxs-lookup"><span data-stu-id="3cd6d-166">Start using web services in Exchange</span></span>](start-using-web-services-in-exchange.md)   
- [<span data-ttu-id="3cd6d-167">Adicionando logon ao seu aplicativo Web usando o Microsoft Azure AD</span><span class="sxs-lookup"><span data-stu-id="3cd6d-167">Adding Sign-On to Your Web Application Using Microsoft Azure AD</span></span>](https://msdn.microsoft.com/library/055e1155-2d4d-4c85-b44e-d406872ba595%28Office.15%29.aspx)    
- [<span data-ttu-id="3cd6d-168">Controlar o acesso ao EWS no Exchange</span><span class="sxs-lookup"><span data-stu-id="3cd6d-168">Control access to EWS in Exchange</span></span>](how-to-control-access-to-ews-in-exchange.md)    
- [<span data-ttu-id="3cd6d-169">Controlando o acesso do aplicativo cliente ao EWS no Exchange</span><span class="sxs-lookup"><span data-stu-id="3cd6d-169">Controlling client application access to EWS in Exchange</span></span>](controlling-client-application-access-to-ews-in-exchange.md)   
- [<span data-ttu-id="3cd6d-170">Tipos de token e declaração com suporte</span><span class="sxs-lookup"><span data-stu-id="3cd6d-170">Supported token and claim types</span></span>](https://msdn.microsoft.com/library/9d35e4bc-7b72-49d1-b723-5464eee6be2c%28Office.15%29.aspx)
 