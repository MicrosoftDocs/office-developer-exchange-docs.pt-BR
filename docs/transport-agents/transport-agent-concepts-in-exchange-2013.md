---
title: Transporte conceitos de agente no Exchange 2013
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 0c700af8-2792-4d3f-8571-8860e0550d8e
description: Encontre informações sobre como arquitetura de função de transporte agente pipeline e o servidor no Exchange 2013 afetam desenvolvimento de agente de transporte e as classes que você pode usar para desenvolver agentes de transporte.
ms.openlocfilehash: 6f7a03e16b260117c6ee27b86ec0e55b5346e301
ms.sourcegitcommit: 9061fcf40c218ebe88911783f357b7df278846db
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/28/2018
ms.locfileid: "21353704"
---
# <a name="transport-agent-concepts-in-exchange-2013"></a><span data-ttu-id="4842f-103">Transporte conceitos de agente no Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="4842f-103">Transport agent concepts in Exchange 2013</span></span>

<span data-ttu-id="4842f-104">Encontre informações sobre como arquitetura de função de transporte agente pipeline e o servidor no Exchange 2013 afetam desenvolvimento de agente de transporte e as classes que você pode usar para desenvolver agentes de transporte.</span><span class="sxs-lookup"><span data-stu-id="4842f-104">Find information about how the transport agent pipeline and server role architecture in Exchange 2013 affect transport agent development, and the classes that you can use to develop transport agents.</span></span> 
  
<span data-ttu-id="4842f-105">**Aplica-se a:** Exchange Server 2013</span><span class="sxs-lookup"><span data-stu-id="4842f-105">**Applies to:** Exchange Server 2013</span></span> 
  
<span data-ttu-id="4842f-106">Você pode usar a biblioteca de classes fornecida com o Exchange Server 2013 para implementar os agentes de transporte que se registrar para eventos e execute ações em mensagens transmitidas através do pipeline de transporte.</span><span class="sxs-lookup"><span data-stu-id="4842f-106">You can use the class library provided in Exchange Server 2013 to implement transport agents that register for events and take actions on messages as they pass through the transport pipeline.</span></span> <span data-ttu-id="4842f-107">Você também pode usar os agentes de transporte para modificar as mensagens e converter o conteúdo.</span><span class="sxs-lookup"><span data-stu-id="4842f-107">You can also use transport agents to modify messages and convert content.</span></span> 
  
<span data-ttu-id="4842f-108">Este artigo fornece informações sobre agentes de transporte e a arquitetura do pipeline de transporte.</span><span class="sxs-lookup"><span data-stu-id="4842f-108">This article provides information about transport agents and the transport pipeline architecture.</span></span> <span data-ttu-id="4842f-109">É importante entender a arquitetura do pipeline de transporte, para que você pode modificar o comportamento de transporte para atender às necessidades da sua organização.</span><span class="sxs-lookup"><span data-stu-id="4842f-109">It is important to understand the architecture of the transport pipeline so that you can modify transport behavior to meet your organization's needs.</span></span> <span data-ttu-id="4842f-110">Este artigo também fornece informações sobre alterações na arquitetura do Exchange 2013 que afetam os agentes de transporte e as classes que você pode usar para desenvolver agentes de transporte.</span><span class="sxs-lookup"><span data-stu-id="4842f-110">This article also provides information about changes in the Exchange 2013 architecture that affect transport agents and the classes that you can use to develop transport agents.</span></span> 
  
## <a name="transport-agents-in-the-transport-pipeline"></a><span data-ttu-id="4842f-111">Agentes de transporte no pipeline de transporte</span><span class="sxs-lookup"><span data-stu-id="4842f-111">Transport agents in the transport pipeline</span></span>
<span data-ttu-id="4842f-112"><a name="Pipeline"> </a></span><span class="sxs-lookup"><span data-stu-id="4842f-112"></span></span>

<span data-ttu-id="4842f-113">Agentes de transporte são derivados de uma das três classes a seguir:</span><span class="sxs-lookup"><span data-stu-id="4842f-113">Transport agents are derived from one of the following three classes:</span></span>
  
- [<span data-ttu-id="4842f-114">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="4842f-114">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx)
- [<span data-ttu-id="4842f-115">RoutingAgent</span><span class="sxs-lookup"><span data-stu-id="4842f-115">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx)
- [<span data-ttu-id="4842f-116">DeliveryAgent</span><span class="sxs-lookup"><span data-stu-id="4842f-116">DeliveryAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx)
    
<span data-ttu-id="4842f-117">O pipeline de transporte refere-se para o fluxo de dados de mensagem dentro dos limites de uma organização do Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="4842f-117">The transport pipeline refers to the flow of message data within the boundaries of an Exchange 2013 organization.</span></span> <span data-ttu-id="4842f-118">O pipeline consiste nos serviços listados na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="4842f-118">The pipeline consists of the services listed in the following table.</span></span>
  
<span data-ttu-id="4842f-119">**Tabela 1. Serviços do pipeline de transporte**</span><span class="sxs-lookup"><span data-stu-id="4842f-119">**Table 1. Transport pipeline services**</span></span>

|<span data-ttu-id="4842f-120">**Serviço**</span><span class="sxs-lookup"><span data-stu-id="4842f-120">**Service**</span></span>|<span data-ttu-id="4842f-121">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="4842f-121">**Description**</span></span>|<span data-ttu-id="4842f-122">**Classes suportadas**</span><span class="sxs-lookup"><span data-stu-id="4842f-122">**Classes supported**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="4842f-123">Transporte de Front-End</span><span class="sxs-lookup"><span data-stu-id="4842f-123">Front End Transport</span></span>  <br/> |<span data-ttu-id="4842f-124">É executado em todos os [servidores de acesso para cliente](http://technet.microsoft.com/en-us/library/dd298114%28v=exchg.150%29.aspx) e atua como um proxy sem estado para todo entrado e saído SMTP o tráfego externo para a organização do Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="4842f-124">Runs on all [Client Access servers](http://technet.microsoft.com/en-us/library/dd298114%28v=exchg.150%29.aspx) and acts as a stateless proxy for all inbound and outbound external SMTP traffic for the Exchange 2013 organization.</span></span> <span data-ttu-id="4842f-125">O serviço Front End Transport não inspecionar o conteúdo da mensagem ou localmente todas as mensagens da fila.</span><span class="sxs-lookup"><span data-stu-id="4842f-125">The Front End Transport service doesn't inspect message content or queue any messages locally.</span></span> <span data-ttu-id="4842f-126">Ele se comunica com o serviço de transporte em um [servidor de caixa de correio](http://technet.microsoft.com/en-us/library/jj150491%28v=exchg.150%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="4842f-126">It communicates with the Transport service on a [Mailbox server](http://technet.microsoft.com/en-us/library/jj150491%28v=exchg.150%29.aspx).</span></span>  <br/> |[<span data-ttu-id="4842f-127">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="4842f-127">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> |
|<span data-ttu-id="4842f-128">Transporte</span><span class="sxs-lookup"><span data-stu-id="4842f-128">Transport</span></span>  <br/> |<span data-ttu-id="4842f-129">É executado em todos os servidores de caixa de correio e é semelhante à função de [servidor de transporte de Hub](http://technet.microsoft.com/en-us/library/bb123494%28v=exchg.141%29.aspx) no Exchange Server 2010.</span><span class="sxs-lookup"><span data-stu-id="4842f-129">Runs on all Mailbox servers and is similar to the [Hub Transport server](http://technet.microsoft.com/en-us/library/bb123494%28v=exchg.141%29.aspx) role in Exchange Server 2010.</span></span> <span data-ttu-id="4842f-130">O serviço de transporte roteia mensagens entre si e os serviços de transporte de caixa de correio e transporte de Front End.</span><span class="sxs-lookup"><span data-stu-id="4842f-130">The Transport service routes messages between itself and the Mailbox Transport and Front End Transport services.</span></span> <span data-ttu-id="4842f-131">Esse serviço não se comunicar diretamente com bancos de dados de caixa de correio.</span><span class="sxs-lookup"><span data-stu-id="4842f-131">This service does not communicate directly with mailbox databases.</span></span>  <br/> |[<span data-ttu-id="4842f-132">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="4842f-132">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> [<span data-ttu-id="4842f-133">RoutingAgent</span><span class="sxs-lookup"><span data-stu-id="4842f-133">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) <br/> [<span data-ttu-id="4842f-134">DeliveryAgent</span><span class="sxs-lookup"><span data-stu-id="4842f-134">DeliveryAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) <br/> |
|<span data-ttu-id="4842f-135">Transporte de caixa de correio</span><span class="sxs-lookup"><span data-stu-id="4842f-135">Mailbox Transport</span></span>  <br/> |<span data-ttu-id="4842f-136">É executado em todos os servidores de caixa de correio e consiste em dois serviços separados: envio de transporte de caixa de correio e o fornecimento de transporte de caixa de correio.</span><span class="sxs-lookup"><span data-stu-id="4842f-136">Runs on all Mailbox servers and consists of two separate services: Mailbox Transport Submission and Mailbox Transport Delivery.</span></span> <span data-ttu-id="4842f-137">Entrega de transporte de caixa de correio recebe mensagens de SMTP do serviço de transporte e conecta-se ao banco de dados de caixa de correio usando uma chamada de procedimento remoto (RPC) do Exchange para entregar a mensagem.</span><span class="sxs-lookup"><span data-stu-id="4842f-137">Mailbox Transport Delivery receives SMTP messages from the Transport service, and connects to the mailbox database by using an Exchange remote procedure call (RPC) to deliver the message.</span></span> <span data-ttu-id="4842f-138">Envio de transporte de caixa de correio se conecta ao banco de dados de caixa de correio usando RPC para recuperar mensagens e envia as mensagens por meio do SMTP para o serviço de transporte.</span><span class="sxs-lookup"><span data-stu-id="4842f-138">Mailbox Transport Submission connects to the mailbox database using RPC to retrieve messages, and submits the messages via SMTP to the Transport service.</span></span>  <br/> |<span data-ttu-id="4842f-139">Nenhum.</span><span class="sxs-lookup"><span data-stu-id="4842f-139">None.</span></span>  <br/> |
   
### <a name="transport-events"></a><span data-ttu-id="4842f-140">Eventos de transporte</span><span class="sxs-lookup"><span data-stu-id="4842f-140">Transport events</span></span>
<span data-ttu-id="4842f-141"><a name="Events"> </a></span><span class="sxs-lookup"><span data-stu-id="4842f-141"></span></span>

<span data-ttu-id="4842f-142">Para implementar agentes de transporte, primeiro registrar um evento e, em seguida, dê uma ação quando esse evento é acionado.</span><span class="sxs-lookup"><span data-stu-id="4842f-142">You implement transport agents by first registering for an event, and then taking an action when that event fires.</span></span> <span data-ttu-id="4842f-143">Cada um dos tipos de três operador pode se inscrever para um conjunto diferente de eventos.</span><span class="sxs-lookup"><span data-stu-id="4842f-143">Each of the three agent types can register for a different set of events.</span></span>
  
<span data-ttu-id="4842f-144">A figura a seguir mostra onde no transporte do pipeline de transporte agentes podem registrar eventos.</span><span class="sxs-lookup"><span data-stu-id="4842f-144">The following figure shows where in the transport pipeline transport agents can register for events.</span></span>
  
<span data-ttu-id="4842f-145">**Figura 1. Eventos de transporte**</span><span class="sxs-lookup"><span data-stu-id="4842f-145">**Figure 1. Transport events**</span></span>

![An image shows message flow through the transport pipeline and events for which each agent can register beginning with Smtp events for the SmtpReceivedAgent, then Categorizor events for the RoutingAgent, and finally deliver events for the DeliveryAgent.](media/TAConceptsFig1.png)
  
<span data-ttu-id="4842f-147">Quando uma mensagem entra pipeline de transporte, um agente de transporte derivado da classe [SmtpReceiveAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) pode atuar na mensagem durante qualquer um dos eventos SMTP que o agente de registrado.</span><span class="sxs-lookup"><span data-stu-id="4842f-147">When a message enters the transport pipeline, a transport agent derived from the [SmtpReceiveAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) class can act on the message during any of the SMTP events that the agent registered for.</span></span> <span data-ttu-id="4842f-148">Um operador derivado da classe [RoutingAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) pode atuar em qualquer um dos quatro eventos categorizador que ele foi registrado para.</span><span class="sxs-lookup"><span data-stu-id="4842f-148">An agent derived from the [RoutingAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) class can act on any of the four categorizer events that it has registered for.</span></span> <span data-ttu-id="4842f-149">Um operador derivado da classe [DeliveryAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) pode atuar em uma mensagem durante a qualquer um dos eventos de entrega que ele foi registrado para.</span><span class="sxs-lookup"><span data-stu-id="4842f-149">An agent derived from the [DeliveryAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) class can act on a message during any of the delivery events that it has registered for.</span></span> 
  
## <a name="transport-agents-and-server-roles"></a><span data-ttu-id="4842f-150">Agentes de transporte e funções de servidor</span><span class="sxs-lookup"><span data-stu-id="4842f-150">Transport agents and server roles</span></span>
<span data-ttu-id="4842f-151"><a name="ServerRoles"> </a></span><span class="sxs-lookup"><span data-stu-id="4842f-151"></span></span>

<span data-ttu-id="4842f-152">Alterações na arquitetura da função de servidor no Exchange 2013 afetam agentes de transporte e o que fazer seus agentes de transporte.</span><span class="sxs-lookup"><span data-stu-id="4842f-152">Changes to the server role architecture in Exchange 2013 affect transport agents and what your transport agents can do.</span></span> <span data-ttu-id="4842f-153">Exchange 2013 inclui as seguintes funções de servidor:</span><span class="sxs-lookup"><span data-stu-id="4842f-153">Exchange 2013 includes the following server roles:</span></span>
  
- <span data-ttu-id="4842f-154">Servidor de caixa de correio — protocolos inclui acesso para cliente, o serviço de transporte, bancos de dados de caixa de correio e componentes de Unificação de mensagens.</span><span class="sxs-lookup"><span data-stu-id="4842f-154">Mailbox server — Includes Client Access protocols, the Transport service, mailbox databases, and Unified Messaging components.</span></span> <span data-ttu-id="4842f-155">O servidor de caixa de correio comunica-se diretamente com os serviços de domínio Active Directory (AD DS), servidores de acesso para cliente e clientes de email, como o Outlook.</span><span class="sxs-lookup"><span data-stu-id="4842f-155">The Mailbox server communicates directly with Active Directory Domain Services (AD DS), Client Access servers, and mail clients such as Outlook.</span></span>
    
- <span data-ttu-id="4842f-156">Servidor de acesso para cliente — fornece autenticação, o redirecionamento de limitado, serviços de proxy e protocolos de acesso do cliente, como HTTP, POP, IMAP e SMTP.</span><span class="sxs-lookup"><span data-stu-id="4842f-156">Client Access server — Provides authentication, limited redirection, proxy services, and client access protocols such as HTTP, POP, IMAP, and SMTP.</span></span>
    
- <span data-ttu-id="4842f-157">Servidor de transporte de borda — roteia e-mail e sair de uma organização.</span><span class="sxs-lookup"><span data-stu-id="4842f-157">Edge Transport server — Routes email into and out of an organization.</span></span> <span data-ttu-id="4842f-158">Normalmente, os servidores de transporte de borda sit no perímetro de uma topologia do Exchange.</span><span class="sxs-lookup"><span data-stu-id="4842f-158">Edge Transport servers typically sit at the perimeter of an Exchange topology.</span></span>
    
<span data-ttu-id="4842f-159">Essa estrutura consolidada reduz o número de servidores que precisam ser implantados em um ambiente do Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="4842f-159">This consolidated structure reduces the number of servers that need to be deployed in an Exchange 2013 environment.</span></span> <span data-ttu-id="4842f-160">Os administradores não é mais necessário implantar servidores de acesso para cliente e transporte de Hub em cada site do Active Directory que inclua um servidor de caixa de correio e eles não precisam mais atualizar todas as funções de servidor a fim de aproveitar a nova funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="4842f-160">Administrators no longer have to deploy Hub Transport and Client Access servers in every Active Directory site that includes a Mailbox server, and they no longer need to update all server roles in order to take advantage of new functionality.</span></span>
  
<span data-ttu-id="4842f-161">Essas alterações para a arquitetura da função de servidor podem afetar onde no pipeline de seu agente pode responder a eventos.</span><span class="sxs-lookup"><span data-stu-id="4842f-161">These changes to the server role architecture can potentially affect where in the pipeline your agent can respond to events.</span></span> <span data-ttu-id="4842f-162">Se você tiver criado os agentes de transporte para versões do Exchange anteriores ao Exchange 2013, certifique-se de revisar as alterações de arquiteturais para determinar se é necessário fazer alterações em seus agentes.</span><span class="sxs-lookup"><span data-stu-id="4842f-162">If you have created transport agents for versions of Exchange earlier than Exchange 2013, be sure to review the architectural changes to determine whether you need to make any changes to your agents.</span></span>
  
<span data-ttu-id="4842f-163">A figura a seguir mostra como as alterações de arquitetura no Exchange 2013 resultarem em um pipeline de transporte simplificada, consolidada.</span><span class="sxs-lookup"><span data-stu-id="4842f-163">The following figure shows how the architectural changes in Exchange 2013 result in a streamlined, consolidated transport pipeline.</span></span> <span data-ttu-id="4842f-164">Nessa figura, os servidores de acesso para cliente são rotulados CAS.</span><span class="sxs-lookup"><span data-stu-id="4842f-164">In this figure, Client Access servers are labeled CAS.</span></span> <span data-ttu-id="4842f-165">E os servidores de caixa de correio são rotulados MBX.</span><span class="sxs-lookup"><span data-stu-id="4842f-165">And Mailbox servers are labeled MBX.</span></span>
  
<span data-ttu-id="4842f-166">**Figura 2. Arquitetura de função de servidor do Exchange 2013**</span><span class="sxs-lookup"><span data-stu-id="4842f-166">**Figure 2. Exchange 2013 server role architecture**</span></span>

![An image shows client traffic through an external firewall and Edge Transport on the left that passes traffic through a layer 4 load balance to a consolidated CAS array and set of mailbox servers in a database accessibility group on the right.](media/Transport_Agent_Concepts_Fig_3.png)
  
<span data-ttu-id="4842f-168">A figura a seguir mostra as interações entre as funções de servidor do Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="4842f-168">The following figure shows the interactions between the Exchange 2013 server roles.</span></span>
  
<span data-ttu-id="4842f-169">**Figura 3. Interações de servidor acesso para cliente e caixa de correio**</span><span class="sxs-lookup"><span data-stu-id="4842f-169">**Figure 3. Mailbox and Client Access server interactions**</span></span>

![An image shows interactions starting with arrows from client traffic passing through a layer 4 load balance that has 4 targets in the CAS: IIS/HTTP Proxy, POP/IMAP, SMTP, and UM. The arrows pass to their complimentary targets in the mailbox store.](media/Transport_Agent_Concepts_Fig_4.png)
  
<span data-ttu-id="4842f-172">Para obter mais informações sobre alterações na arquitetura da função de servidor Exchange 2013, consulte [arquitetura do Exchange 2013](http://technet.microsoft.com/en-us/library/jj150540%28v=exchg.150%29.aspx#BKMK_Arch) em [What's New in Exchange 2013](http://technet.microsoft.com/en-us/library/jj150540%28v=exchg.150%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="4842f-172">For more information about changes in the Exchange 2013 server role architecture, see [Exchange 2013 architecture](http://technet.microsoft.com/en-us/library/jj150540%28v=exchg.150%29.aspx#BKMK_Arch) in [What's New in Exchange 2013](http://technet.microsoft.com/en-us/library/jj150540%28v=exchg.150%29.aspx).</span></span> 
  
## <a name="transport-agent-classes"></a><span data-ttu-id="4842f-173">Classes de agente de transporte</span><span class="sxs-lookup"><span data-stu-id="4842f-173">Transport agent classes</span></span>
<span data-ttu-id="4842f-174"><a name="Create"> </a></span><span class="sxs-lookup"><span data-stu-id="4842f-174"></span></span>

<span data-ttu-id="4842f-175">A classe que seu agente de transporte deriva determina os eventos para os quais o agente pode registrar.</span><span class="sxs-lookup"><span data-stu-id="4842f-175">The class your transport agent derives from determines the events for which your agent can register.</span></span> <span data-ttu-id="4842f-176">Seu agente normalmente conterá uma classe de agente, um alocador de agente, um ou mais manipuladores de eventos e o código que executa as ações que você deseja que seu agente assuma.</span><span class="sxs-lookup"><span data-stu-id="4842f-176">Your agent will typically contain an agent class, an agent factory, one or more event handlers, and the code that performs the actions that you want your agent to take.</span></span>
  
<span data-ttu-id="4842f-177">A tabela a seguir lista as classes do qual derivar para cada tipo de agente.</span><span class="sxs-lookup"><span data-stu-id="4842f-177">The following table lists the classes from which to derive for each agent type.</span></span>
  
<span data-ttu-id="4842f-178">**Tabela 2. Classes de agente**</span><span class="sxs-lookup"><span data-stu-id="4842f-178">**Table 2. Agent classes**</span></span>

||||
|:-----|:-----|:-----|
|<span data-ttu-id="4842f-179">Tipo de agente</span><span class="sxs-lookup"><span data-stu-id="4842f-179">Agent type</span></span>  <br/> |<span data-ttu-id="4842f-180">Classe base de fábrica</span><span class="sxs-lookup"><span data-stu-id="4842f-180">Factory base class</span></span>  <br/> |<span data-ttu-id="4842f-181">Classe de base do agente</span><span class="sxs-lookup"><span data-stu-id="4842f-181">Agent base class</span></span>  <br/> |
|<span data-ttu-id="4842f-182">Recebimento SMTP</span><span class="sxs-lookup"><span data-stu-id="4842f-182">SMTP receive</span></span>  <br/> |[<span data-ttu-id="4842f-183">SmtpReceiveAgentFactory</span><span class="sxs-lookup"><span data-stu-id="4842f-183">SmtpReceiveAgentFactory</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgentFactory.aspx) <br/> |[<span data-ttu-id="4842f-184">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="4842f-184">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> |
|<span data-ttu-id="4842f-185">Roteamento</span><span class="sxs-lookup"><span data-stu-id="4842f-185">Routing</span></span>  <br/> |[<span data-ttu-id="4842f-186">RoutingAgentFactory</span><span class="sxs-lookup"><span data-stu-id="4842f-186">RoutingAgentFactory</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgentFactory.aspx) <br/> |[<span data-ttu-id="4842f-187">RoutingAgent</span><span class="sxs-lookup"><span data-stu-id="4842f-187">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) <br/> |
|<span data-ttu-id="4842f-188">Entrega</span><span class="sxs-lookup"><span data-stu-id="4842f-188">Delivery</span></span>  <br/> |<span data-ttu-id="4842f-189">[DeliveryAgentFactory\<Manager\>](https://msdn.microsoft.com/en-us/library/dd877550(v=exchg.150).aspx)</span><span class="sxs-lookup"><span data-stu-id="4842f-189">[DeliveryAgentFactory\<Manager\>](https://msdn.microsoft.com/en-us/library/dd877550(v=exchg.150).aspx)</span></span> <br/> |<span data-ttu-id="4842f-190">[DeliveryAgent](https://msdn.microsoft.com/en-us/library/microsoft.exchange.data.transport.delivery.deliveryagent(v=exchg.150).aspx)</span><span class="sxs-lookup"><span data-stu-id="4842f-190">[DeliveryAgent](https://msdn.microsoft.com/en-us/library/microsoft.exchange.data.transport.delivery.deliveryagent(v=exchg.150).aspx)</span></span> <br/> |
   
<span data-ttu-id="4842f-191">Essas classes base de fábrica e agente fornecem propriedades e métodos que você pode usar para acessar mensagens e eventos de transporte.</span><span class="sxs-lookup"><span data-stu-id="4842f-191">These factory and agent base classes provide properties and methods that you can use to access transport events and messages.</span></span> <span data-ttu-id="4842f-192">Implementar classes em seu agente que herdam essas classes.</span><span class="sxs-lookup"><span data-stu-id="4842f-192">Implement classes in your agent that inherit from these classes.</span></span> <span data-ttu-id="4842f-193">Na classe derivada de fábrica agente, substitua o método **CreateAgent** para que ele retorna uma nova instância da sua classe de agente.</span><span class="sxs-lookup"><span data-stu-id="4842f-193">In the agent factory derived class, override the **CreateAgent** method so that it returns a new instance of your agent class.</span></span> 
  
<span data-ttu-id="4842f-194">Argumentos passados para os eventos podem conter uma instância da classe [EmailMessage](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Email.EmailMessage.aspx) , que você pode usar para alterar as propriedades e o conteúdo da mensagem subjacente.</span><span class="sxs-lookup"><span data-stu-id="4842f-194">Arguments passed to the events can contain an instance of the [EmailMessage](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Email.EmailMessage.aspx) class, which you can use to change the properties and contents of the underlying message.</span></span> <span data-ttu-id="4842f-195">Nem todas as informações de mensagem estão disponíveis em cada evento.</span><span class="sxs-lookup"><span data-stu-id="4842f-195">Not all message information is available in each event.</span></span> <span data-ttu-id="4842f-196">Você deve determinar qual agente e qual evento é melhor para a tarefa que você deseja realizar.</span><span class="sxs-lookup"><span data-stu-id="4842f-196">You must determine which agent and which event is best for the task you want to accomplish.</span></span> 
  
<span data-ttu-id="4842f-197">Os seguintes namespaces contêm tipos que você pode usar para ler, gravar e modificar as mensagens no pipeline de transporte:</span><span class="sxs-lookup"><span data-stu-id="4842f-197">The following namespaces contain types that you can use to read, write, and modify messages in the transport pipeline:</span></span>
  
- [<span data-ttu-id="4842f-198">Microsoft.Exchange.Data.Mime.Encoders</span><span class="sxs-lookup"><span data-stu-id="4842f-198">Microsoft.Exchange.Data.Mime.Encoders</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Mime.Encoders.aspx)
    
- [<span data-ttu-id="4842f-199">Microsoft.Exchange.Data.ContentTypes.iCalendar</span><span class="sxs-lookup"><span data-stu-id="4842f-199">Microsoft.Exchange.Data.ContentTypes.iCalendar</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.iCalendar.aspx)
    
- [<span data-ttu-id="4842f-200">Microsoft.Exchange.Data.Mime</span><span class="sxs-lookup"><span data-stu-id="4842f-200">Microsoft.Exchange.Data.Mime</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Mime.aspx)
    
- [<span data-ttu-id="4842f-201">Microsoft.Exchange.Data.ContentTypes.Tnef</span><span class="sxs-lookup"><span data-stu-id="4842f-201">Microsoft.Exchange.Data.ContentTypes.Tnef</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.Tnef.aspx)
    
- [<span data-ttu-id="4842f-202">Microsoft.Exchange.Data.ContentTypes.vCard</span><span class="sxs-lookup"><span data-stu-id="4842f-202">Microsoft.Exchange.Data.ContentTypes.vCard</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.vCard.aspx)
    
<span data-ttu-id="4842f-203">Após você escrever o agente de transporte, você [instalar e gerenciar seu agente](http://technet.microsoft.com/en-us/library/bb125175%28v=exchg.150%29.aspx) usando o Shell de gerenciamento do Exchange.</span><span class="sxs-lookup"><span data-stu-id="4842f-203">After you write your transport agent, you [install and manage your agent](http://technet.microsoft.com/en-us/library/bb125175%28v=exchg.150%29.aspx) by using the Exchange Management Shell.</span></span> <span data-ttu-id="4842f-204">Para obter mais informações, consulte [Creating agentes de transporte do Exchange 2013](creating-transport-agents-for-exchange-2013.md).</span><span class="sxs-lookup"><span data-stu-id="4842f-204">For more information, see [Creating transport agents for Exchange 2013](creating-transport-agents-for-exchange-2013.md).</span></span> 
  
## <a name="see-also"></a><span data-ttu-id="4842f-205">Confira também</span><span class="sxs-lookup"><span data-stu-id="4842f-205">See also</span></span>

- [<span data-ttu-id="4842f-206">Agentes de transporte no Exchange</span><span class="sxs-lookup"><span data-stu-id="4842f-206">Transport agents in Exchange</span></span>](transport-agents-in-exchange-2013.md)    
- [<span data-ttu-id="4842f-207">Referência de agente de transporte do Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="4842f-207">Transport agent reference for Exchange 2013</span></span>](transport-agent-reference-for-exchange-2013.md)   
- [<span data-ttu-id="4842f-208">Lendo e modificando mensagens no pipeline de transporte do Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="4842f-208">Reading and modifying messages in the Exchange 2013 transport pipeline</span></span>](reading-and-modifying-messages-in-the-exchange-2013-transport-pipeline.md)    
- [<span data-ttu-id="4842f-209">What's New in Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="4842f-209">What's New in Exchange 2013</span></span>](http://technet.microsoft.com/en-us/library/jj150540%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="4842f-210">Arquitetura de função de servidor do Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="4842f-210">Exchange 2013 Server Role Architecture</span></span>](http://blogs.technet.com/b/exchange/archive/2013/01/23/exchange-2013-server-role-architecture.aspx)    
- [<span data-ttu-id="4842f-211">Caixa de correio e servidores de acesso para cliente</span><span class="sxs-lookup"><span data-stu-id="4842f-211">Mailbox and Client Access Servers</span></span>](http://technet.microsoft.com/en-us/library/jj150519%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="4842f-212">Fluxo de email do Exchange Server 2013</span><span class="sxs-lookup"><span data-stu-id="4842f-212">Exchange Server 2013 Mail Flow</span></span>](http://technet.microsoft.com/en-us/library/aa996349.aspx)
- [<span data-ttu-id="4842f-213">Roteamento do Exchange Server 2013 Mail</span><span class="sxs-lookup"><span data-stu-id="4842f-213">Exchange Server 2013 Mail Routing</span></span>](http://technet.microsoft.com/en-us/library/aa998825%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="4842f-214">PowerShell do Exchange Server (Shell de gerenciamento do Exchange)</span><span class="sxs-lookup"><span data-stu-id="4842f-214">Exchange Server PowerShell (Exchange Management Shell)</span></span>](https://docs.microsoft.com/en-us/powershell/exchange/exchange-server/exchange-management-shell?view=exchange-ps)
    

