---
title: Conceitos de agente de transporte no Exchange 2013
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 0c700af8-2792-4d3f-8571-8860e0550d8e
description: Encontre informações sobre como o pipeline do agente de transporte e a arquitetura de função de servidor no Exchange 2013 afetam o desenvolvimento do agente de transporte e as classes que você pode usar para desenvolver agentes de transporte.
ms.openlocfilehash: b9552ea4398ac8135a11b48eb7e7bdf5ec81985e
ms.sourcegitcommit: 88ec988f2bb67c1866d06b361615f3674a24e795
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/03/2020
ms.locfileid: "44527555"
---
# <a name="transport-agent-concepts-in-exchange-2013"></a><span data-ttu-id="5df91-103">Conceitos de agente de transporte no Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="5df91-103">Transport agent concepts in Exchange 2013</span></span>

<span data-ttu-id="5df91-104">Encontre informações sobre como o pipeline do agente de transporte e a arquitetura de função de servidor no Exchange 2013 afetam o desenvolvimento do agente de transporte e as classes que você pode usar para desenvolver agentes de transporte.</span><span class="sxs-lookup"><span data-stu-id="5df91-104">Find information about how the transport agent pipeline and server role architecture in Exchange 2013 affect transport agent development, and the classes that you can use to develop transport agents.</span></span> 
  
<span data-ttu-id="5df91-105">**Aplica-se a:** Exchange Server 2013</span><span class="sxs-lookup"><span data-stu-id="5df91-105">**Applies to:** Exchange Server 2013</span></span> 
  
<span data-ttu-id="5df91-106">Você pode usar a biblioteca de classes fornecida no Exchange Server 2013 para implementar agentes de transporte que se registram em eventos e realizar ações em mensagens à medida que elas passam pelo pipeline de transporte.</span><span class="sxs-lookup"><span data-stu-id="5df91-106">You can use the class library provided in Exchange Server 2013 to implement transport agents that register for events and take actions on messages as they pass through the transport pipeline.</span></span> <span data-ttu-id="5df91-107">Você também pode usar agentes de transporte para modificar mensagens e converter conteúdo.</span><span class="sxs-lookup"><span data-stu-id="5df91-107">You can also use transport agents to modify messages and convert content.</span></span> 
  
<span data-ttu-id="5df91-108">Este artigo fornece informações sobre agentes de transporte e a arquitetura de pipeline de transporte.</span><span class="sxs-lookup"><span data-stu-id="5df91-108">This article provides information about transport agents and the transport pipeline architecture.</span></span> <span data-ttu-id="5df91-109">É importante entender a arquitetura do pipeline de transporte para que você possa modificar o comportamento de transporte para atender às necessidades da sua organização.</span><span class="sxs-lookup"><span data-stu-id="5df91-109">It is important to understand the architecture of the transport pipeline so that you can modify transport behavior to meet your organization's needs.</span></span> <span data-ttu-id="5df91-110">Este artigo também fornece informações sobre alterações na arquitetura do Exchange 2013 que afetam agentes de transporte e as classes que você pode usar para desenvolver agentes de transporte.</span><span class="sxs-lookup"><span data-stu-id="5df91-110">This article also provides information about changes in the Exchange 2013 architecture that affect transport agents and the classes that you can use to develop transport agents.</span></span> 
  
## <a name="transport-agents-in-the-transport-pipeline"></a><span data-ttu-id="5df91-111">Agentes de transporte no pipeline de transporte</span><span class="sxs-lookup"><span data-stu-id="5df91-111">Transport agents in the transport pipeline</span></span>
<span data-ttu-id="5df91-112"><a name="Pipeline"> </a></span><span class="sxs-lookup"><span data-stu-id="5df91-112"><a name="Pipeline"> </a></span></span>

<span data-ttu-id="5df91-113">Os agentes de transporte são derivados de uma das seguintes três classes:</span><span class="sxs-lookup"><span data-stu-id="5df91-113">Transport agents are derived from one of the following three classes:</span></span>
  
- [<span data-ttu-id="5df91-114">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="5df91-114">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx)
- [<span data-ttu-id="5df91-115">RoutingAgent</span><span class="sxs-lookup"><span data-stu-id="5df91-115">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx)
- [<span data-ttu-id="5df91-116">DeliveryAgent</span><span class="sxs-lookup"><span data-stu-id="5df91-116">DeliveryAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx)
    
<span data-ttu-id="5df91-117">O pipeline de transporte se refere ao fluxo de dados da mensagem dentro dos limites de uma organização do Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="5df91-117">The transport pipeline refers to the flow of message data within the boundaries of an Exchange 2013 organization.</span></span> <span data-ttu-id="5df91-118">O pipeline consiste nos serviços listados na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="5df91-118">The pipeline consists of the services listed in the following table.</span></span>
  
<span data-ttu-id="5df91-119">**Tabela 1. Serviços de pipeline de transporte**</span><span class="sxs-lookup"><span data-stu-id="5df91-119">**Table 1. Transport pipeline services**</span></span>

|<span data-ttu-id="5df91-120">**Serviço**</span><span class="sxs-lookup"><span data-stu-id="5df91-120">**Service**</span></span>|<span data-ttu-id="5df91-121">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="5df91-121">**Description**</span></span>|<span data-ttu-id="5df91-122">**Classes suportadas**</span><span class="sxs-lookup"><span data-stu-id="5df91-122">**Classes supported**</span></span>|
|:-----|:-----|:-----|
|<span data-ttu-id="5df91-123">Transporte de front-end</span><span class="sxs-lookup"><span data-stu-id="5df91-123">Front End Transport</span></span>  <br/> |<span data-ttu-id="5df91-124">É executado em todos os [servidores de acesso para cliente](https://technet.microsoft.com/library/dd298114%28v=exchg.150%29.aspx) e atua como um proxy sem estado para todo o tráfego SMTP externo de entrada e saída para a organização do Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="5df91-124">Runs on all [Client Access servers](https://technet.microsoft.com/library/dd298114%28v=exchg.150%29.aspx) and acts as a stateless proxy for all inbound and outbound external SMTP traffic for the Exchange 2013 organization.</span></span> <span data-ttu-id="5df91-125">O serviço de transporte de front-end não inspeciona o conteúdo da mensagem ou enfileira qualquer mensagem localmente.</span><span class="sxs-lookup"><span data-stu-id="5df91-125">The Front End Transport service doesn't inspect message content or queue any messages locally.</span></span> <span data-ttu-id="5df91-126">Ele se comunica com o serviço de transporte em um [servidor de caixa de correio](https://technet.microsoft.com/library/jj150491%28v=exchg.150%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="5df91-126">It communicates with the Transport service on a [Mailbox server](https://technet.microsoft.com/library/jj150491%28v=exchg.150%29.aspx).</span></span>  <br/> |[<span data-ttu-id="5df91-127">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="5df91-127">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> |
|<span data-ttu-id="5df91-128">Transport</span><span class="sxs-lookup"><span data-stu-id="5df91-128">Transport</span></span>  <br/> |<span data-ttu-id="5df91-129">É executado em todos os servidores de caixa de correio e é semelhante à função de [servidor Transporte de Hub](https://technet.microsoft.com/library/bb123494%28v=exchg.141%29.aspx) no Exchange Server 2010.</span><span class="sxs-lookup"><span data-stu-id="5df91-129">Runs on all Mailbox servers and is similar to the [Hub Transport server](https://technet.microsoft.com/library/bb123494%28v=exchg.141%29.aspx) role in Exchange Server 2010.</span></span> <span data-ttu-id="5df91-130">O serviço de transporte roteia mensagens entre si e o transporte de caixa de correio e os serviços de transporte de front-end.</span><span class="sxs-lookup"><span data-stu-id="5df91-130">The Transport service routes messages between itself and the Mailbox Transport and Front End Transport services.</span></span> <span data-ttu-id="5df91-131">Este serviço não se comunica diretamente com bancos de dados de caixa de correio.</span><span class="sxs-lookup"><span data-stu-id="5df91-131">This service does not communicate directly with mailbox databases.</span></span>  <br/> |[<span data-ttu-id="5df91-132">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="5df91-132">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> [<span data-ttu-id="5df91-133">RoutingAgent</span><span class="sxs-lookup"><span data-stu-id="5df91-133">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) <br/> [<span data-ttu-id="5df91-134">DeliveryAgent</span><span class="sxs-lookup"><span data-stu-id="5df91-134">DeliveryAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) <br/> |
|<span data-ttu-id="5df91-135">Transporte de caixa de correio</span><span class="sxs-lookup"><span data-stu-id="5df91-135">Mailbox Transport</span></span>  <br/> |<span data-ttu-id="5df91-136">Executa em todos os servidores de caixa de correio e consiste em dois serviços separados: envio de transporte de caixa de correio e entrega de transporte de caixa de correio</span><span class="sxs-lookup"><span data-stu-id="5df91-136">Runs on all Mailbox servers and consists of two separate services: Mailbox Transport Submission and Mailbox Transport Delivery.</span></span> <span data-ttu-id="5df91-137">A entrega de transporte de caixa de correio recebe mensagens SMTP do serviço de transporte e se conecta ao banco de dados de caixa de correio usando uma RPC (chamada de procedimento remoto) do Exchange para entregar a mensagem.</span><span class="sxs-lookup"><span data-stu-id="5df91-137">Mailbox Transport Delivery receives SMTP messages from the Transport service, and connects to the mailbox database by using an Exchange remote procedure call (RPC) to deliver the message.</span></span> <span data-ttu-id="5df91-138">O envio de transporte de caixa de correio conecta-se ao banco de dados de caixa de correio usando RPC para recuperar mensagens e envia as mensagens por SMTP para o serviço de transporte.</span><span class="sxs-lookup"><span data-stu-id="5df91-138">Mailbox Transport Submission connects to the mailbox database using RPC to retrieve messages, and submits the messages via SMTP to the Transport service.</span></span>  <br/> |<span data-ttu-id="5df91-139">Nenhum</span><span class="sxs-lookup"><span data-stu-id="5df91-139">None.</span></span>  <br/> |
   
### <a name="transport-events"></a><span data-ttu-id="5df91-140">Eventos de transporte</span><span class="sxs-lookup"><span data-stu-id="5df91-140">Transport events</span></span>
<span data-ttu-id="5df91-141"><a name="Events"> </a></span><span class="sxs-lookup"><span data-stu-id="5df91-141"><a name="Events"> </a></span></span>

<span data-ttu-id="5df91-142">Você implementa agentes de transporte, registrando primeiro um evento e, em seguida, realizando uma ação quando esse evento é acionado.</span><span class="sxs-lookup"><span data-stu-id="5df91-142">You implement transport agents by first registering for an event, and then taking an action when that event fires.</span></span> <span data-ttu-id="5df91-143">Cada um dos três tipos de agentes pode se registrar em um conjunto diferente de eventos.</span><span class="sxs-lookup"><span data-stu-id="5df91-143">Each of the three agent types can register for a different set of events.</span></span>
  
<span data-ttu-id="5df91-144">A figura a seguir mostra onde os agentes de transporte de pipeline de transporte podem se registrar em eventos.</span><span class="sxs-lookup"><span data-stu-id="5df91-144">The following figure shows where in the transport pipeline transport agents can register for events.</span></span>
  
<span data-ttu-id="5df91-145">**Figura 1. Eventos de transporte**</span><span class="sxs-lookup"><span data-stu-id="5df91-145">**Figure 1. Transport events**</span></span>

![An image shows message flow through the transport pipeline and events for which each agent can register beginning with Smtp events for the SmtpReceivedAgent, then Categorizor events for the RoutingAgent, and finally deliver events for the DeliveryAgent.](media/TAConceptsFig1.png)
  
<span data-ttu-id="5df91-147">Quando uma mensagem entra no pipeline de transporte, um agente de transporte derivado da classe [SmtpReceiveAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) pode atuar na mensagem durante qualquer evento SMTP que o agente está registrado.</span><span class="sxs-lookup"><span data-stu-id="5df91-147">When a message enters the transport pipeline, a transport agent derived from the [SmtpReceiveAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) class can act on the message during any of the SMTP events that the agent registered for.</span></span> <span data-ttu-id="5df91-148">Um agente derivado da classe [RoutingAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) pode atuar em qualquer um dos quatro eventos categorizadores que ele registrou para o.</span><span class="sxs-lookup"><span data-stu-id="5df91-148">An agent derived from the [RoutingAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) class can act on any of the four categorizer events that it has registered for.</span></span> <span data-ttu-id="5df91-149">Um agente derivado da classe [DeliveryAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) pode agir em uma mensagem durante qualquer um dos eventos de entrega registrados.</span><span class="sxs-lookup"><span data-stu-id="5df91-149">An agent derived from the [DeliveryAgent](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Delivery.DeliveryAgent.aspx) class can act on a message during any of the delivery events that it has registered for.</span></span> 
  
## <a name="transport-agents-and-server-roles"></a><span data-ttu-id="5df91-150">Agentes de transporte e funções de servidor</span><span class="sxs-lookup"><span data-stu-id="5df91-150">Transport agents and server roles</span></span>
<span data-ttu-id="5df91-151"><a name="ServerRoles"> </a></span><span class="sxs-lookup"><span data-stu-id="5df91-151"><a name="ServerRoles"> </a></span></span>

<span data-ttu-id="5df91-152">As alterações na arquitetura da função de servidor no Exchange 2013 afetam agentes de transporte e o que seus agentes de transporte podem fazer.</span><span class="sxs-lookup"><span data-stu-id="5df91-152">Changes to the server role architecture in Exchange 2013 affect transport agents and what your transport agents can do.</span></span> <span data-ttu-id="5df91-153">O Exchange 2013 inclui as seguintes funções de servidor:</span><span class="sxs-lookup"><span data-stu-id="5df91-153">Exchange 2013 includes the following server roles:</span></span>
  
- <span data-ttu-id="5df91-154">Servidor de caixa de correio — inclui protocolos de acesso para cliente, serviço de transporte, bancos de dados de caixa de correio e componentes de Unificação de mensagens.</span><span class="sxs-lookup"><span data-stu-id="5df91-154">Mailbox server — Includes Client Access protocols, the Transport service, mailbox databases, and Unified Messaging components.</span></span> <span data-ttu-id="5df91-155">O servidor de caixa de correio se comunica diretamente com os serviços de domínio do Active Directory (AD DS), servidores de acesso para cliente e clientes de email, como o Outlook.</span><span class="sxs-lookup"><span data-stu-id="5df91-155">The Mailbox server communicates directly with Active Directory Domain Services (AD DS), Client Access servers, and mail clients such as Outlook.</span></span>
    
- <span data-ttu-id="5df91-156">Servidor de acesso para cliente — fornece autenticação, redirecionamento limitado, serviços de proxy e protocolos de acesso para cliente, como HTTP, POP, IMAP e SMTP.</span><span class="sxs-lookup"><span data-stu-id="5df91-156">Client Access server — Provides authentication, limited redirection, proxy services, and client access protocols such as HTTP, POP, IMAP, and SMTP.</span></span>
    
- <span data-ttu-id="5df91-157">Servidor de transporte de Borda — roteia o email para dentro e para fora de uma organização.</span><span class="sxs-lookup"><span data-stu-id="5df91-157">Edge Transport server — Routes email into and out of an organization.</span></span> <span data-ttu-id="5df91-158">Os servidores de transporte de borda normalmente ficam no perímetro de uma topologia do Exchange.</span><span class="sxs-lookup"><span data-stu-id="5df91-158">Edge Transport servers typically sit at the perimeter of an Exchange topology.</span></span>
    
<span data-ttu-id="5df91-159">Essa estrutura consolidada reduz o número de servidores que precisam ser implantados em um ambiente do Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="5df91-159">This consolidated structure reduces the number of servers that need to be deployed in an Exchange 2013 environment.</span></span> <span data-ttu-id="5df91-160">Os administradores não precisam mais implantar servidores de transporte de Hub e de acesso para cliente em todos os sites do Active Directory que incluem um servidor de caixa de correio e não precisam mais atualizar todas as funções de servidor para aproveitar a nova funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="5df91-160">Administrators no longer have to deploy Hub Transport and Client Access servers in every Active Directory site that includes a Mailbox server, and they no longer need to update all server roles in order to take advantage of new functionality.</span></span>
  
<span data-ttu-id="5df91-161">Essas alterações na arquitetura da função de servidor podem afetar potencialmente o local no pipeline que seu agente pode responder a eventos.</span><span class="sxs-lookup"><span data-stu-id="5df91-161">These changes to the server role architecture can potentially affect where in the pipeline your agent can respond to events.</span></span> <span data-ttu-id="5df91-162">Se você tiver criado agentes de transporte para versões do Exchange anteriores ao Exchange 2013, revise as alterações arquitetônicas para determinar se precisa fazer qualquer alteração nos seus agentes.</span><span class="sxs-lookup"><span data-stu-id="5df91-162">If you have created transport agents for versions of Exchange earlier than Exchange 2013, be sure to review the architectural changes to determine whether you need to make any changes to your agents.</span></span>
  
<span data-ttu-id="5df91-163">A figura a seguir mostra como as alterações arquitetônicas no Exchange 2013 resultam em um pipeline de transporte consolidado e simplificado.</span><span class="sxs-lookup"><span data-stu-id="5df91-163">The following figure shows how the architectural changes in Exchange 2013 result in a streamlined, consolidated transport pipeline.</span></span> <span data-ttu-id="5df91-164">Nesta figura, os servidores de acesso para cliente são identificados como CAS.</span><span class="sxs-lookup"><span data-stu-id="5df91-164">In this figure, Client Access servers are labeled CAS.</span></span> <span data-ttu-id="5df91-165">E servidores de caixa de correio são rotulados MBX.</span><span class="sxs-lookup"><span data-stu-id="5df91-165">And Mailbox servers are labeled MBX.</span></span>
  
<span data-ttu-id="5df91-166">**Figura 2. Arquitetura de função de servidor do Exchange 2013**</span><span class="sxs-lookup"><span data-stu-id="5df91-166">**Figure 2. Exchange 2013 server role architecture**</span></span>

![An image shows client traffic through an external firewall and Edge Transport on the left that passes traffic through a layer 4 load balance to a consolidated CAS array and set of mailbox servers in a database accessibility group on the right.](media/Transport_Agent_Concepts_Fig_3.png)
  
<span data-ttu-id="5df91-168">A figura a seguir mostra as interações entre as funções de servidor do Exchange 2013.</span><span class="sxs-lookup"><span data-stu-id="5df91-168">The following figure shows the interactions between the Exchange 2013 server roles.</span></span>
  
<span data-ttu-id="5df91-169">**Figura 3. Interações de servidor de acesso para cliente e caixa de correio**</span><span class="sxs-lookup"><span data-stu-id="5df91-169">**Figure 3. Mailbox and Client Access server interactions**</span></span>

![An image shows interactions starting with arrows from client traffic passing through a layer 4 load balance that has 4 targets in the CAS: IIS/HTTP Proxy, POP/IMAP, SMTP, and UM. The arrows pass to their complimentary targets in the mailbox store.](media/Transport_Agent_Concepts_Fig_4.png)
  
<span data-ttu-id="5df91-172">Para obter mais informações sobre alterações na arquitetura de função de servidor do Exchange 2013, consulte [exchange 2013 Architecture](https://technet.microsoft.com/library/jj150540%28v=exchg.150%29.aspx#BKMK_Arch) em [What ' s New in Exchange 2013](https://technet.microsoft.com/library/jj150540%28v=exchg.150%29.aspx).</span><span class="sxs-lookup"><span data-stu-id="5df91-172">For more information about changes in the Exchange 2013 server role architecture, see [Exchange 2013 architecture](https://technet.microsoft.com/library/jj150540%28v=exchg.150%29.aspx#BKMK_Arch) in [What's New in Exchange 2013](https://technet.microsoft.com/library/jj150540%28v=exchg.150%29.aspx).</span></span> 
  
## <a name="transport-agent-classes"></a><span data-ttu-id="5df91-173">Classes de agente de transporte</span><span class="sxs-lookup"><span data-stu-id="5df91-173">Transport agent classes</span></span>
<span data-ttu-id="5df91-174"><a name="Create"> </a></span><span class="sxs-lookup"><span data-stu-id="5df91-174"><a name="Create"> </a></span></span>

<span data-ttu-id="5df91-175">A classe que seu agente de transporte deriva determina os eventos para os quais o seu agente pode se registrar.</span><span class="sxs-lookup"><span data-stu-id="5df91-175">The class your transport agent derives from determines the events for which your agent can register.</span></span> <span data-ttu-id="5df91-176">O seu agente normalmente conterá uma classe de agente, uma fábrica de agentes, um ou mais manipuladores de eventos e o código que executará as ações que você deseja que seu agente realize.</span><span class="sxs-lookup"><span data-stu-id="5df91-176">Your agent will typically contain an agent class, an agent factory, one or more event handlers, and the code that performs the actions that you want your agent to take.</span></span>
  
<span data-ttu-id="5df91-177">A tabela a seguir lista as classes nas quais derivar cada tipo de agente.</span><span class="sxs-lookup"><span data-stu-id="5df91-177">The following table lists the classes from which to derive for each agent type.</span></span>
  
<span data-ttu-id="5df91-178">**Tabela 2. Classes de agentes**</span><span class="sxs-lookup"><span data-stu-id="5df91-178">**Table 2. Agent classes**</span></span>

||||
|:-----|:-----|:-----|
|<span data-ttu-id="5df91-179">Tipo de agente</span><span class="sxs-lookup"><span data-stu-id="5df91-179">Agent type</span></span>  <br/> |<span data-ttu-id="5df91-180">Classe base de fábrica</span><span class="sxs-lookup"><span data-stu-id="5df91-180">Factory base class</span></span>  <br/> |<span data-ttu-id="5df91-181">Classe base do agente</span><span class="sxs-lookup"><span data-stu-id="5df91-181">Agent base class</span></span>  <br/> |
|<span data-ttu-id="5df91-182">Recebimento SMTP</span><span class="sxs-lookup"><span data-stu-id="5df91-182">SMTP receive</span></span>  <br/> |[<span data-ttu-id="5df91-183">SmtpReceiveAgentFactory</span><span class="sxs-lookup"><span data-stu-id="5df91-183">SmtpReceiveAgentFactory</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgentFactory.aspx) <br/> |[<span data-ttu-id="5df91-184">SmtpReceiveAgent</span><span class="sxs-lookup"><span data-stu-id="5df91-184">SmtpReceiveAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Smtp.SmtpReceiveAgent.aspx) <br/> |
|<span data-ttu-id="5df91-185">Caminhar</span><span class="sxs-lookup"><span data-stu-id="5df91-185">Routing</span></span>  <br/> |[<span data-ttu-id="5df91-186">RoutingAgentFactory</span><span class="sxs-lookup"><span data-stu-id="5df91-186">RoutingAgentFactory</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgentFactory.aspx) <br/> |[<span data-ttu-id="5df91-187">RoutingAgent</span><span class="sxs-lookup"><span data-stu-id="5df91-187">RoutingAgent</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Routing.RoutingAgent.aspx) <br/> |
|<span data-ttu-id="5df91-188">Entrega</span><span class="sxs-lookup"><span data-stu-id="5df91-188">Delivery</span></span>  <br/> |<span data-ttu-id="5df91-189">[DeliveryAgentFactory\<Manager\>](https://msdn.microsoft.com/library/dd877550(v=exchg.150).aspx)</span><span class="sxs-lookup"><span data-stu-id="5df91-189">[DeliveryAgentFactory\<Manager\>](https://msdn.microsoft.com/library/dd877550(v=exchg.150).aspx)</span></span> <br/> |<span data-ttu-id="5df91-190">[DeliveryAgent](https://msdn.microsoft.com/library/microsoft.exchange.data.transport.delivery.deliveryagent(v=exchg.150).aspx)</span><span class="sxs-lookup"><span data-stu-id="5df91-190">[DeliveryAgent](https://msdn.microsoft.com/library/microsoft.exchange.data.transport.delivery.deliveryagent(v=exchg.150).aspx)</span></span> <br/> |
   
<span data-ttu-id="5df91-191">Essas classes de fábrica e de agentes fornecem propriedades e métodos que você pode usar para acessar eventos e mensagens de transporte.</span><span class="sxs-lookup"><span data-stu-id="5df91-191">These factory and agent base classes provide properties and methods that you can use to access transport events and messages.</span></span> <span data-ttu-id="5df91-192">Implementar classes no seu agente que herdam dessas classes.</span><span class="sxs-lookup"><span data-stu-id="5df91-192">Implement classes in your agent that inherit from these classes.</span></span> <span data-ttu-id="5df91-193">Na classe derivada de Factory de agentes, substitua o método **CreateAgent** para que ele retorne uma nova instância da classe de agente.</span><span class="sxs-lookup"><span data-stu-id="5df91-193">In the agent factory derived class, override the **CreateAgent** method so that it returns a new instance of your agent class.</span></span> 
  
<span data-ttu-id="5df91-194">Os argumentos passados para os eventos podem conter uma instância da classe [EmailMessage](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Email.EmailMessage.aspx) , que você pode usar para alterar as propriedades e o conteúdo da mensagem subjacente.</span><span class="sxs-lookup"><span data-stu-id="5df91-194">Arguments passed to the events can contain an instance of the [EmailMessage](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Transport.Email.EmailMessage.aspx) class, which you can use to change the properties and contents of the underlying message.</span></span> <span data-ttu-id="5df91-195">Nem todas as informações de mensagem estão disponíveis em cada evento.</span><span class="sxs-lookup"><span data-stu-id="5df91-195">Not all message information is available in each event.</span></span> <span data-ttu-id="5df91-196">Você deve determinar qual agente e qual evento é melhor para a tarefa que você deseja realizar.</span><span class="sxs-lookup"><span data-stu-id="5df91-196">You must determine which agent and which event is best for the task you want to accomplish.</span></span> 
  
<span data-ttu-id="5df91-197">Os namespaces a seguir contêm tipos que podem ser usados para ler, gravar e modificar mensagens no pipeline de transporte:</span><span class="sxs-lookup"><span data-stu-id="5df91-197">The following namespaces contain types that you can use to read, write, and modify messages in the transport pipeline:</span></span>
  
- [<span data-ttu-id="5df91-198">Microsoft. Exchange. Data. MIME. decodificadores</span><span class="sxs-lookup"><span data-stu-id="5df91-198">Microsoft.Exchange.Data.Mime.Encoders</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Mime.Encoders.aspx)
    
- [<span data-ttu-id="5df91-199">Microsoft. Exchange. Data. ContentTypes. iCalendar</span><span class="sxs-lookup"><span data-stu-id="5df91-199">Microsoft.Exchange.Data.ContentTypes.iCalendar</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.iCalendar.aspx)
    
- [<span data-ttu-id="5df91-200">Microsoft. Exchange. Data. MIME</span><span class="sxs-lookup"><span data-stu-id="5df91-200">Microsoft.Exchange.Data.Mime</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.Mime.aspx)
    
- [<span data-ttu-id="5df91-201">Microsoft. Exchange. Data. ContentTypes. TNEF</span><span class="sxs-lookup"><span data-stu-id="5df91-201">Microsoft.Exchange.Data.ContentTypes.Tnef</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.Tnef.aspx)
    
- [<span data-ttu-id="5df91-202">Microsoft. Exchange. Data. ContentTypes. vCard</span><span class="sxs-lookup"><span data-stu-id="5df91-202">Microsoft.Exchange.Data.ContentTypes.vCard</span></span>](https://msdn.microsoft.com/library/Microsoft.Exchange.Data.ContentTypes.vCard.aspx)
    
<span data-ttu-id="5df91-203">Depois de escrever o agente de transporte, você [instala e gerencia seu agente](https://technet.microsoft.com/library/bb125175%28v=exchg.150%29.aspx) usando o Shell de gerenciamento do Exchange.</span><span class="sxs-lookup"><span data-stu-id="5df91-203">After you write your transport agent, you [install and manage your agent](https://technet.microsoft.com/library/bb125175%28v=exchg.150%29.aspx) by using the Exchange Management Shell.</span></span> <span data-ttu-id="5df91-204">Para obter mais informações, consulte [Creating Transport Agents for Exchange 2013](creating-transport-agents-for-exchange-2013.md).</span><span class="sxs-lookup"><span data-stu-id="5df91-204">For more information, see [Creating transport agents for Exchange 2013](creating-transport-agents-for-exchange-2013.md).</span></span> 
  
## <a name="see-also"></a><span data-ttu-id="5df91-205">Confira também</span><span class="sxs-lookup"><span data-stu-id="5df91-205">See also</span></span>

- [<span data-ttu-id="5df91-206">Agentes de transporte no Exchange</span><span class="sxs-lookup"><span data-stu-id="5df91-206">Transport agents in Exchange</span></span>](transport-agents-in-exchange-2013.md)    
- [<span data-ttu-id="5df91-207">Referência do agente de transporte para o Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="5df91-207">Transport agent reference for Exchange 2013</span></span>](transport-agent-reference-for-exchange-2013.md)   
- [<span data-ttu-id="5df91-208">Leitura e modificação de mensagens no pipeline de transporte do Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="5df91-208">Reading and modifying messages in the Exchange 2013 transport pipeline</span></span>](reading-and-modifying-messages-in-the-exchange-2013-transport-pipeline.md)    
- [<span data-ttu-id="5df91-209">O que há de novo no Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="5df91-209">What's New in Exchange 2013</span></span>](https://technet.microsoft.com/library/jj150540%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="5df91-210">Arquitetura de função de servidor do Exchange 2013</span><span class="sxs-lookup"><span data-stu-id="5df91-210">Exchange 2013 Server Role Architecture</span></span>](https://blogs.technet.com/b/exchange/archive/2013/01/23/exchange-2013-server-role-architecture.aspx)    
- [<span data-ttu-id="5df91-211">Servidores de caixa de correio e acesso para cliente</span><span class="sxs-lookup"><span data-stu-id="5df91-211">Mailbox and Client Access Servers</span></span>](https://technet.microsoft.com/library/jj150519%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="5df91-212">Fluxo de email do Exchange Server 2013</span><span class="sxs-lookup"><span data-stu-id="5df91-212">Exchange Server 2013 Mail Flow</span></span>](https://technet.microsoft.com/library/aa996349.aspx)
- [<span data-ttu-id="5df91-213">Roteamento de email do Exchange Server 2013</span><span class="sxs-lookup"><span data-stu-id="5df91-213">Exchange Server 2013 Mail Routing</span></span>](https://technet.microsoft.com/library/aa998825%28v=exchg.150%29.aspx)   
- [<span data-ttu-id="5df91-214">PowerShell do Exchange Server (Shell de gerenciamento do Exchange)</span><span class="sxs-lookup"><span data-stu-id="5df91-214">Exchange Server PowerShell (Exchange Management Shell)</span></span>](https://docs.microsoft.com/powershell/exchange/exchange-server/exchange-management-shell?view=exchange-ps)
    

